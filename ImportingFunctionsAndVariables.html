<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Importing functions and variables in other scripts</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="header-bg"></div>
  <div class="container">
    <header>
      <h1>
        <a href="index.html">
          <img src="static/logo.svg" id="cup" width="48" height="48">
          AGS Manual
        </a>
      </h1>
      <label class="header_input search-box">
        <input type="search" id="search_input" placeholder="Search">
        <label class="toggle-icon" title="Match Case">
          <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
          <span>Aa</span>
        </label>
        <label class="toggle-icon" title="Match Whole Word">
          <input type="checkbox" id="wwtoggle" onclick="wwtoggle_clicked()" checked="checked">
          <span><u>ab</u></span>
        </label>
      </label>

      <label class="toggle-icon" title="Highlight">
        <input type="checkbox" id="hltoggle" onclick="hltoggle_clicked()" checked="checked">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" class="iconify iconify--carbon"><path fill="currentColor" d="M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"></path><path fill="currentColor" d="M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"></path></svg>
      </label>
      
      <label class="toggle-icon" title="Toggle dark mode">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" /></svg>
      </label>
      
      <label class="mobile-menu">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 32 32" width="24px" fill="currentColor"><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z" /></svg>
      </label>

      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>

      <ul id="search_results"></ul>
    </header>

  <nav>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
  </nav>

  <div class="content">
    <article>
      <main>
<section id="importing-functions-and-variables-in-other-scripts" class="level2">
<h2><a href="#importing-functions-and-variables-in-other-scripts">Importing functions and variables in other scripts</a></h2>
<p>Let's say you have a function or a variable in one script, but would like to use them in another. Sharing functions and variables between scripts is known as import/export in AGS. You export them from the script where they are defined, and let other scripts use these by declaring an import. An import should be declared where a script can "see" it: usually the most convenient place is a header of a script which does the export.</p>
<p>You also need to remember that currently in AGS a script may only see things declared in its own header and in any header <em>above</em> in the list of scripts.</p>
<p><strong>NOTE:</strong> Room and Dialog scripts can see declarations from all the regular script headers, but not from other rooms or dialogs.</p>
<section id="exporting-and-importing-a-function" class="level3">
<h3><a href="#exporting-and-importing-a-function">Exporting and importing a function</a></h3>
<p>All script functions are exported automatically, so they only need an import declaration to let other scripts know that they exist. This is done by declaring a function with an <a href="ScriptKeywords.html#import"><code>import</code></a> keyword. The best practice is to place them in the owner script's header.</p>
<p>For example, suppose you have the following function in script MyScript.asc:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">ScriptAFunction</span><span class="op">(</span><span class="dt">int</span> param1<span class="op">,</span> <span class="dt">int</span> param2<span class="op">)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// some actions here</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Then the import declaration in the MyScript's header (MyScript.ash) should looks like:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="kw">function</span> <span class="fu">ScriptAFunction</span><span class="op">(</span><span class="dt">int</span> param1<span class="op">,</span> <span class="dt">int</span> param2<span class="op">);</span></span></code></pre></div>
<p>The name, type and arguments of the function must be the same, otherwise there will be errors either during compilation or at runtime.</p>
</section>
<section id="exporting-and-importing-a-variable" class="level3">
<h3><a href="#exporting-and-importing-a-variable">Exporting and importing a variable</a></h3>
<p>Script variables are not exported by default, so that has to be done explicitly inside the script which has them declared, using the <a href="ScriptKeywords.html#export"><code>export</code></a> keyword.</p>
<p>Let's suppose that you have the following variable inside MyScript.asc:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> public_variable<span class="op">;</span></span></code></pre></div>
<p>If you want to share this variable with the other scripts, you have put the <code>export</code> statement <em>inside the same script where you have declared the variable</em> (MyScript.asc), somewhere below the declaration:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">export</span> public_variable<span class="op">;</span></span></code></pre></div>
<p>The <code>export</code> statement needs <em>only the variable's name</em> and nothing else. It must <em>not</em> be put inside a function.</p>
<p>You can export several variables in one statement if you separate their names with commas, for example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">export</span> public_variable1<span class="op">,</span> public_variable2<span class="op">;</span></span></code></pre></div>
<p>Now, import declaration in the MyScript's header (MyScript.ash) should looks like:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">int</span> public_variable<span class="op">;</span></span></code></pre></div>
<p>Both <em>the name and type</em> must match the variable's own declaration exactly.<br> This bit is important. If the variable is <code>int</code> then it should be imported as <code>int</code>, if it's of the type <code>Character*</code> then the import should also be declared as <code>Character*</code>.</p>
<p>Imported arrays must have the <em>correct size</em>, for example if you have <code>int arr[10];</code> then the import declaration must be:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">int</span> arr<span class="op">[</span><span class="dv">10</span><span class="op">];</span></span></code></pre></div>
<p>(NOTE: the export command still requires its name <em>only</em>: <code>export arr;</code>)</p>
<p>Similar to the regular variable declaration, you can declare the import of several variables <em>of the same type</em> in one statement if you separate them by commas:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">int</span> var1<span class="op">,</span> var2<span class="op">;</span></span></code></pre></div>
<p><strong>NOTE:</strong> Most commonly import declarations are put in the <em>header</em> of the same script where these variables are defined. But in theory you may not do that and instead place imports inside each particular script where you intend to use these variables.</p>
<p>So, for a final example, you have this in <strong>MyScript.asc</strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> public_int1<span class="op">,</span> public_int2<span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> arr<span class="op">[</span><span class="dv">10</span><span class="op">];</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> someString<span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Character</span><span class="op">*</span> RandomChar<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">export</span> public_int1<span class="op">,</span> public_int2<span class="op">,</span> arr<span class="op">,</span> someString<span class="op">,</span> RandomChar<span class="op">;</span></span></code></pre></div>
<p>And in <strong>MyScript.ash</strong>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">int</span> public_int1<span class="op">,</span> public_int2<span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="dt">int</span> arr<span class="op">[</span><span class="dv">10</span><span class="op">];</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="bu">String</span> public_str<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="bu">Character</span><span class="op">*</span> RandomChar<span class="op">;</span></span></code></pre></div>
<p>To sum this up, the import declaration lets other scripts see this variable, and the export command actually connects existing variables to that declaration.</p>
<p><strong>NOTE:</strong> The AGS Editor has a special menu called "Global Variables" meant for easier creation of public variables which could are accessible everywhere. This may be a better alternative for beginners, as it takes care of all this import/export managing behind the scenes.</p>
<p><em>See also:</em> <a href="ScriptKeywords.html#import">import keyword</a>, <a href="ScriptKeywords.html#export">export keyword</a></p>
</section>
</section>
      <a class="edit-link" href="https://github.com/adventuregamestudio/ags-manual-source/blob/master/ImportingFunctionsAndVariables.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit this page</a>
      </main>
      <footer>
        <p>
          <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
          Build: ed75ea05a92de6b9ff5582c5376524816e60c494
        </p>
      </footer>
    </article>
    
    <aside>
<ul>
<li><a href="#importing-functions-and-variables-in-other-scripts" id="toc-importing-functions-and-variables-in-other-scripts">Importing functions and variables in other scripts</a>
<ul>
<li><a href="#exporting-and-importing-a-function" id="toc-exporting-and-importing-a-function">Exporting and importing a function</a></li>
<li><a href="#exporting-and-importing-a-variable" id="toc-exporting-and-importing-a-variable">Exporting and importing a variable</a></li>
</ul></li>
</ul>
    </aside>
  </div>




  </div>
  <script src="js/navigation.js"></script>
  <script src="js/search.js"></script>
  
</body>
</html>
