<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Importing functions and variables in other scripts</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="container">
    <header>
      <label class="toggle-control" for="dark_mode_toggle">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <span class="control"></span>
      </label>
      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>
      <label class="header_input" for="search_input">Search:</label>
      <input type="search" id="search_input">
      <label for="citoggle" class="header_input">Aa</label>
      <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
      <ul id="search_results"></ul>
    </header>

  <nav>
    <a href="index.html">
      <svg id="cup" width="72" height="48" viewBox="0 0 12 8" preserveAspectRatio="xMidYMid meet">
        <g shape-rendering="crispEdges">
          <rect width="10" height="7" fill="#ffffff" />
          <svg y="1">
            <rect width="12" height="5" fill="#ffffff" />
          </svg>
          <svg x="1">
            <rect width="8" height="8" fill="#ffffff" />
          </svg>
          <svg x="1" y="1">
            <rect width="8" height="5" fill="#2a7fff" />
          </svg>
          <svg x="2" y="6">
            <rect width="6" height="1" fill="#2a7fff" />
          </svg>
          <svg x="9" y="2">
            <rect width="2" height="3" fill="#2a7fff" />
          </svg>
          <svg x="9" y="3">
            <rect width="1" height="1" fill="#ffffff" />
          </svg>
          <svg x="2" y="2">
            <rect width="6" height="3" fill="#0000d4" />
          </svg>
          <svg x="3" y="5">
            <rect width="4" height="1" fill="#0000d4" />
          </svg>
          <svg x="2" y="1">
            <rect width="6" height="1" fill="#ffffff" />
          </svg>
        </g>
      </svg>
    </a>
    <h1>
      <a href="index.html">AGS Manual</a>
    </h1>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
<ul>
<li><a href="#importing-functions-and-variables-in-other-scripts"><span>Importing functions and variables in other scripts</span></a>
<ul>
<li><a href="#exporting-and-importing-a-function"><span>Exporting and importing a function</span></a></li>
<li><a href="#exporting-and-importing-a-variable"><span>Exporting and importing a variable</span></a></li>
</ul></li>
</ul>
  </nav>

  <main>
<section id="importing-functions-and-variables-in-other-scripts" class="level2">
<h2><a href="#importing-functions-and-variables-in-other-scripts">Importing functions and variables in other scripts</a></h2>
<p>Let's say you have a function or a variable in one script, but would like to use them in another. Sharing functions and variables between scripts is known as import/export in AGS. You export them from the script where they are defined, and let other scripts use these by declaring an import. An import should be declared where a script can "see" it: usually the most convenient place is a header of a script which does the export.</p>
<p>You also need to remember that currently in AGS a script may only see things declared in its own header and in any header <em>above</em> in the list of scripts.</p>
<p><strong>NOTE:</strong> Room and Dialog scripts can see declarations from all the regular script headers, but not from other rooms or dialogs.</p>
<section id="exporting-and-importing-a-function" class="level3">
<h3><a href="#exporting-and-importing-a-function">Exporting and importing a function</a></h3>
<p>All script functions are exported automatically, so they only need an import declaration to let other scripts know that they exist. This is done by declaring a function with an <a href="ScriptKeywords.html#import"><code>import</code></a> keyword. The best practice is to place them in the owner script's header.</p>
<p>For example, suppose you have the following function in script MyScript:</p>
<pre><code>function ScriptAFunction(int param1, int param2)
{
    // some actions here
}
</code></pre>
<p>Then the import declaration in the MyScript's header should looks like:</p>
<pre><code>import function ScriptAFunction(int param1, int param2);
</code></pre>
<p>The name, type and arguments of the function must be the same, otherwise there will be errors either during compilation or at runtime.</p>
</section>
<section id="exporting-and-importing-a-variable" class="level3">
<h3><a href="#exporting-and-importing-a-variable">Exporting and importing a variable</a></h3>
<p>Script variables are not exported by default, so that has to be done explicitly inside the script which has them declared, using the <a href="ScriptKeywords.html#export"><code>export</code></a> keyword.</p>
<p>Let's suppose that you have the following variable inside MyScript:</p>
<pre><code>int public_variable;
</code></pre>
<p>If you want to share this variable with the other scripts, you have put the <code>export</code> statement <em>inside the same script where you have declared the variable</em> (MyScript), somewhere below the declaration:</p>
<pre><code>export public_variable;
</code></pre>
<p>The <code>export</code> statement needs <em>only the variable's name</em> and nothing else. It must <em>not</em> be put inside a function.</p>
<p>You can export several variables in one statement if you separate their names with commas, for example:</p>
<pre><code>export public_variable1, public_variable2;
</code></pre>
<p>Now, import declaration in the MyScript's header should looks like:</p>
<pre><code>import int public_variable;
</code></pre>
<p>Both <em>the name and type</em> must match the variable's own declaration exactly.<br> This bit is important. If the variable is <code>int</code> then it should be imported as <code>int</code>, if it's of the type <code>Character*</code> then the import should also be declared as <code>Character*</code>.</p>
<p>Imported arrays must have the <em>correct size</em>, for example if you have <code>int arr[10];</code> then the import declaration must be:</p>
<pre><code>import int arr[10];
</code></pre>
<p>(NOTE: the export command still requires its name <em>only</em>: <code>export arr;</code>)</p>
<p>Similar to the regular variable declaration, you can declare the import of several variables <em>of the same type</em> in one statement if you separate them by commas:</p>
<pre><code>import int var1, var2;
</code></pre>
<p><strong>NOTE:</strong> Most commonly import declarations are put in the header of the same script where these variables are defined. But in theory you may not do that and instead place imports inside each particular script where you intend to use these variables.</p>
<p>So, for a final example, you have this in MyScript.asc:</p>
<pre><code>int public_int1, public_int2;
int arr[10];
String someString;
Character* RandomChar;
export public_int1, public_int2, arr, someString, RandomChar;
</code></pre>
<p>And in MyScript.ash:</p>
<pre><code>import int public_int1, public_int2;
import int arr[10];
import String public_str;
import Character* RandomChar;
</code></pre>
<p>To sum this up, the import declaration lets other scripts see this variable, and the export command actually connects existing variables to that declaration.</p>
<p><strong>NOTE:</strong> The AGS Editor has a special menu called "Global Variables" meant for easier creation of public variables which could are accessible everywhere. This may be a better alternative for beginners, as it takes care of all this import/export managing behind the scenes.</p>
<p><em>See also:</em> <a href="ScriptKeywords.html#import">import keyword</a>, <a href="ScriptKeywords.html#export">export keyword</a></p>
</section>
</section>
  </main>


  <footer>
    <p>
      <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
      Build: 6f5673d2fa5a86f76b4e65f680f55b98a34cf637
    </p>
  </footer>

  <script src="js/search.js"></script>
  </div>
</body>
</html>
