<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Room functions and properties</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="container">
    <header>
      <label class="toggle-control" for="dark_mode_toggle">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <span class="control"></span>
      </label>
      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>
      <label class="header_input" for="search_input">Search:</label>
      <input type="search" id="search_input">
      <label for="citoggle" class="header_input">Aa</label>
      <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
      <ul id="search_results"></ul>
    </header>

  <nav>
    <a href="index.html">
      <svg id="cup" width="72" height="48" viewBox="0 0 12 8" preserveAspectRatio="xMidYMid meet">
        <g shape-rendering="crispEdges">
          <rect width="10" height="7" fill="#ffffff" />
          <svg y="1">
            <rect width="12" height="5" fill="#ffffff" />
          </svg>
          <svg x="1">
            <rect width="8" height="8" fill="#ffffff" />
          </svg>
          <svg x="1" y="1">
            <rect width="8" height="5" fill="#2a7fff" />
          </svg>
          <svg x="2" y="6">
            <rect width="6" height="1" fill="#2a7fff" />
          </svg>
          <svg x="9" y="2">
            <rect width="2" height="3" fill="#2a7fff" />
          </svg>
          <svg x="9" y="3">
            <rect width="1" height="1" fill="#ffffff" />
          </svg>
          <svg x="2" y="2">
            <rect width="6" height="3" fill="#0000d4" />
          </svg>
          <svg x="3" y="5">
            <rect width="4" height="1" fill="#0000d4" />
          </svg>
          <svg x="2" y="1">
            <rect width="6" height="1" fill="#ffffff" />
          </svg>
        </g>
      </svg>
    </a>
    <h1>
      <a href="index.html">AGS Manual</a>
    </h1>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
<ul>
<li><a href="#room-functions-and-properties"><span><code>Room</code> functions and properties</span></a>
<ul>
<li><a href="#roomexists"><span><code>Room.Exists</code></span></a></li>
<li><a href="#roomgetdrawingsurfaceforbackground"><span><code>Room.GetDrawingSurfaceForBackground</code></span></a></li>
<li><a href="#roomgetproperty"><span><code>Room.GetProperty</code></span></a></li>
<li><a href="#roomgettextproperty"><span><code>Room.GetTextProperty</code></span></a></li>
<li><a href="#roomsetproperty"><span><code>Room.SetProperty</code></span></a></li>
<li><a href="#roomsettextproperty"><span><code>Room.SetTextProperty</code></span></a></li>
<li><a href="#roomprocessclick"><span><code>Room.ProcessClick</code></span></a></li>
<li><a href="#roombottomedge"><span><code>Room.BottomEdge</code></span></a></li>
<li><a href="#roomcolordepth"><span><code>Room.ColorDepth</code></span></a></li>
<li><a href="#roomheight"><span><code>Room.Height</code></span></a></li>
<li><a href="#roomleftedge"><span><code>Room.LeftEdge</code></span></a></li>
<li><a href="#roommessages"><span><code>Room.Messages</code></span></a></li>
<li><a href="#roommusiconload"><span><code>Room.MusicOnLoad</code></span></a></li>
<li><a href="#roomobjectcount"><span><code>Room.ObjectCount</code></span></a></li>
<li><a href="#roomrightedge"><span><code>Room.RightEdge</code></span></a></li>
<li><a href="#roomtopedge"><span><code>Room.TopEdge</code></span></a></li>
<li><a href="#roomwidth"><span><code>Room.Width</code></span></a></li>
</ul></li>
</ul>
  </nav>

  <main>
<section id="room-functions-and-properties" class="level2">
<h2><a href="#room-functions-and-properties"><code>Room</code> functions and properties</a></h2>
<section id="roomexists" class="level3">
<h3><a href="#roomexists"><code>Room.Exists</code></a></h3>
<pre><code>static bool Room.Exists(int room)
</code></pre>
<p>Returns true if the specified room exists in the game.</p>
<p>Example:</p>
<pre><code>if(Room.Exists(10))
{
  player.ChangeRoom(10);
}
</code></pre>
<p>If room 10 is valid, go to that room.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.0</strong> and later versions.</p>
</section>
<section id="roomgetdrawingsurfaceforbackground" class="level3">
<h3><a href="#roomgetdrawingsurfaceforbackground"><code>Room.GetDrawingSurfaceForBackground</code></a></h3>
<pre><code>static DrawingSurface* Room.GetDrawingSurfaceForBackground(optional int backgroundNumber)
</code></pre>
<p>Gets a drawing surface for a room background, which allows you to directly draw onto the room's background image. You can provide a background frame number if you want to modify a specific frame; otherwise, the current background's surface will be returned.</p>
<p>After calling this method, use the various <a href="DrawingSurface.html">DrawingSurface functions</a> to modify the background, then call Release on the surface when you are finished.</p>
<p>Any changes you make will only last until the player leaves the room, at which point they will be lost. If you need to make long-lasting changes, you can either use this method in the Player Enters Room event, or consider using an alternate background frame for the changed image.</p>
<p><strong>NOTE:</strong> Drawing onto the room background can be slow, especially when using the Direct3D driver. Do not use this command in repeatedly_execute; make sure you only use this command when absolutely necessary.</p>
<p>Example:</p>
<pre><code>DrawingSurface *surface = Room.GetDrawingSurfaceForBackground();
surface.DrawingColor = 14;
surface.DrawLine(0, 0, 50, 50);
surface.Release();
</code></pre>
<p>draws a yellow diagonal line across the top-left of the current room background, then releases the image.</p>
<p><em>See also:</em> <a href="DrawingSurface.html#drawingsurfacedrawline"><code>DrawingSurface.DrawLine</code></a>, <a href="DrawingSurface.html#drawingsurfacerelease"><code>DrawingSurface.Release</code></a></p>
<hr />
</section>
<section id="roomgetproperty" class="level3">
<h3><a href="#roomgetproperty"><code>Room.GetProperty</code></a></h3>
<p><em>(Formerly known as global function <code>GetRoomProperty</code>, which is now obsolete)</em></p>
<pre><code>Room.GetProperty(string property)
</code></pre>
<p>Returns the custom property setting of the PROPERTY for the current room.</p>
<p>This command works with Number properties (it returns the number), and with Boolean properties (returns 1 if the box was checked, 0 if not).</p>
<p>Use the equivalent Room.GetTextProperty function to get a text property.</p>
<p>Note that you cannot retrieve room properties of other rooms - only the current room can be checked.</p>
<p>Example:</p>
<pre><code>if (Room.GetProperty(&quot;CanBeAttackedHere&quot;))
  Display(&quot;An evil monster lunges at you!&quot;);
</code></pre>
<p>will print the message if the current room has its "CanBeAttackedHere" box ticked.</p>
<p><em>See also:</em> <a href="Room.html#roomgettextproperty"><code>Room.GetTextProperty</code></a></p>
<hr />
</section>
<section id="roomgettextproperty" class="level3">
<h3><a href="#roomgettextproperty"><code>Room.GetTextProperty</code></a></h3>
<p><em>(Formerly known as global function <code>GetRoomPropertyText</code>, which is now obsolete)</em></p>
<pre><code>static String Room.GetTextProperty(string property)
</code></pre>
<p>Returns the custom property setting of the PROPERTY for the current room.</p>
<p>This command works with Text properties only. The property's text will be returned from this function.</p>
<p>Use the equivalent Room.GetProperty function to get a non-text property.</p>
<p>Note that you cannot retrieve room properties of other rooms - only the current room can be checked.</p>
<p>Example:</p>
<pre><code>String description = Room.GetTextProperty(&quot;Description&quot;);
Display(&quot;The room&#39;s description: %s&quot;, description);
</code></pre>
<p>will retrieve the room's "description" property then display it.</p>
<p><em>See also:</em> <a href="Room.html#roomgetproperty"><code>Room.GetProperty</code></a></p>
<hr />
</section>
<section id="roomsetproperty" class="level3">
<h3><a href="#roomsetproperty"><code>Room.SetProperty</code></a></h3>
<pre><code>static bool Room.SetProperty(const string property, int value)
</code></pre>
<p>Sets the new <em>value</em> for the custom <em>property</em> for the specified room. Returns TRUE if such property exists and FALSE on failure.</p>
<p>This command works with Number properties (it sets the numeric value), and with Boolean properties (sets FALSE is value is equal to 0, or TRUE otherwise).</p>
<p>Use the equivalent SetTextProperty function to set new text property value.</p>
<p>Note that you cannot set room properties of other rooms - only the current room.</p>
<p>Example:</p>
<pre><code>Room.SetProperty(&quot;Darkness&quot;, 10);
</code></pre>
<p>will change room's "Darkness" custom property to 10.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.4.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Room.html#roomsettextproperty"><code>Room.SetTextProperty</code></a></p>
<hr />
</section>
<section id="roomsettextproperty" class="level3">
<h3><a href="#roomsettextproperty"><code>Room.SetTextProperty</code></a></h3>
<pre><code>bool Room.SetTextProperty(const string property, const string value)
</code></pre>
<p>Sets the new <em>value</em> text for the custom <em>property</em> for the specified room. Returns TRUE if such property exists and FALSE on failure.</p>
<p>This command works with Text properties only. The property's text will be changed to new value.</p>
<p>Use the equivalent SetProperty function to set a non-text property.</p>
<p>Note that you cannot set room properties of other rooms - only the current room.</p>
<p>Example:</p>
<pre><code>Room.SetTextProperty(&quot;Description&quot;, &quot;The Throne Room&quot;);
</code></pre>
<p>will change room's "description" property.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.4.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Room.html#roomsetproperty"><code>Room.SetProperty</code></a></p>
<hr />
</section>
<section id="roomprocessclick" class="level3">
<h3><a href="#roomprocessclick"><code>Room.ProcessClick</code></a></h3>
<p><em>(Formerly known as global function <code>ProcessClick</code>, which is now obsolete)</em></p>
<pre><code>static void Room.ProcessClick(int x, int y, CursorMode)
</code></pre>
<p>Simulates clicking the mouse on the location (X,Y) on the screen, in the specified cursor mode. This "click" has special behavior in that it <strong>only affects Room elements and characters</strong> under given coordinates. Any interactions attached to the first object found on given coordinates and matching the given cursor mode will be executed. Any non-room objects (GUI) will be <strong>ignored</strong>. Even if the coordinates happen to lie on a button, the simulated click will "pass through" that button as if it was not present.</p>
<p>Please note that this function accepts <em>screen</em> coordinates and not <em>room</em> coordinates. If there's no room viewport on screen at this location the function will fail.</p>
<p>The available cursor modes are the ones you define on your Cursors tab (but with eMode prepended to them). Usually these are eModeWalkto, eModeLookat, etc.</p>
<p>Example:</p>
<pre><code>Room.ProcessClick(100, 50, eModeLookat);
</code></pre>
<p>will simulate a click in the Look mode on screen co-ordinates (100, 50).</p>
<p><em>See also:</em> <a href="GUI.html#guiprocessclick"><code>GUI.ProcessClick</code></a>, <a href="Mouse.html#mouseclick"><code>Mouse.Click</code></a>, <a href="Globalfunctions_General.html#isinteractionavailable"><code>IsInteractionAvailable</code></a>, <a href="Hotspot.html#hotspotruninteraction"><code>Hotspot.RunInteraction</code></a></p>
<hr />
</section>
<section id="roombottomedge" class="level3">
<h3><a href="#roombottomedge"><code>Room.BottomEdge</code></a></h3>
<pre><code>readonly static int Room.BottomEdge
</code></pre>
<p>Returns the Y co-ordinate of the bottom edge of the room, as set in the Room Settings pane of the editor.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room&#39;s bottom edge is at %d.&quot;, Room.BottomEdge);
</code></pre>
<p><em>See also:</em> <a href="Room.html#roomleftedge"><code>Room.LeftEdge</code></a>, <a href="Room.html#roomrightedge"><code>Room.RightEdge</code></a>, <a href="Room.html#roomtopedge"><code>Room.TopEdge</code></a></p>
<hr />
</section>
<section id="roomcolordepth" class="level3">
<h3><a href="#roomcolordepth"><code>Room.ColorDepth</code></a></h3>
<pre><code>readonly static int Room.ColorDepth
</code></pre>
<p>Returns the color depth of the room's background scene. This is important if you want to use DrawImage, since any sprites that you draw must be the same color depth as the room itself.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room background is %d-bit color.&quot;, Room.ColorDepth);
</code></pre>
<p><em>See also:</em> <a href="DrawingSurface.html#drawingsurfacedrawimage"><code>DrawingSurface.DrawImage</code></a></p>
<hr />
</section>
<section id="roomheight" class="level3">
<h3><a href="#roomheight"><code>Room.Height</code></a></h3>
<p><em>(Formerly known as <code>game.room_height</code>, which is now obsolete)</em></p>
<pre><code>readonly static int Room.Height
</code></pre>
<p>Returns the height of the room.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room size is %d x %d.&quot;, Room.Width, Room.Height);
</code></pre>
<p><em>See also:</em> <a href="Room.html#roomwidth"><code>Room.Width</code></a></p>
<hr />
</section>
<section id="roomleftedge" class="level3">
<h3><a href="#roomleftedge"><code>Room.LeftEdge</code></a></h3>
<pre><code>readonly static int Room.LeftEdge
</code></pre>
<p>Returns the X co-ordinate of the left edge of the room, as set in the Room Settings pane of the editor.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room&#39;s left edge is at %d.&quot;, Room.LeftEdge);
</code></pre>
<p><em>See also:</em> <a href="Room.html#roombottomedge"><code>Room.BottomEdge</code></a>, <a href="Room.html#roomrightedge"><code>Room.RightEdge</code></a>, <a href="Room.html#roomtopedge"><code>Room.TopEdge</code></a></p>
<hr />
</section>
<section id="roommessages" class="level3">
<h3><a href="#roommessages"><code>Room.Messages</code></a></h3>
<p><em>(Formerly known as global function <code>GetMessageText</code>, which is now obsolete)</em></p>
<pre><code>readonly static String Room.Messages[int message]
</code></pre>
<p>Gets the text of the specified room message. This is useful if you want to store, for example, a room description in Message 1 in each room -- this property allows you to retrieve the text for that message from the current room.</p>
<p>If an invalid message number is supplied, <em>null</em> will be returned. Otherwise, the message contents will be returned.</p>
<p>Example:</p>
<pre><code>String message1 = Room.Messages[1];
Display(&quot;Message 1 says: %s&quot;, message1);
</code></pre>
<p>will print the contents of room message 1.</p>
<hr />
</section>
<section id="roommusiconload" class="level3">
<h3><a href="#roommusiconload"><code>Room.MusicOnLoad</code></a></h3>
<pre><code>readonly static int Room.MusicOnLoad
</code></pre>
<p><strong>This property is now obsolete.</strong> It is still accessible for backwards compatibility with old games.</p>
<p>Returns the music number that is set to play when the player enters this room, as set in the "Room Settings" pane in the editor. If no music is set for this room, returns 0.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room plays music %d when the player enters.&quot;, Room.MusicOnLoad);
</code></pre>
<hr />
</section>
<section id="roomobjectcount" class="level3">
<h3><a href="#roomobjectcount"><code>Room.ObjectCount</code></a></h3>
<p><em>(Formerly part of <code>GetGameParameter</code>, which is now obsolete)</em></p>
<pre><code>readonly static int Room.ObjectCount
</code></pre>
<p>Returns the number of objects in the room.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room contains %d objects.&quot;, Room.ObjectCount);
</code></pre>
<hr />
</section>
<section id="roomrightedge" class="level3">
<h3><a href="#roomrightedge"><code>Room.RightEdge</code></a></h3>
<pre><code>readonly static int Room.RightEdge
</code></pre>
<p>Returns the X co-ordinate of the right edge of the room, as set in the Room Settings pane of the editor.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room&#39;s right edge is at %d.&quot;, Room.RightEdge);
</code></pre>
<p><em>See also:</em> <a href="Room.html#roombottomedge"><code>Room.BottomEdge</code></a>, <a href="Room.html#roomleftedge"><code>Room.LeftEdge</code></a>, <a href="Room.html#roomtopedge"><code>Room.TopEdge</code></a></p>
<hr />
</section>
<section id="roomtopedge" class="level3">
<h3><a href="#roomtopedge"><code>Room.TopEdge</code></a></h3>
<pre><code>readonly static int Room.TopEdge
</code></pre>
<p>Returns the Y co-ordinate of the top edge of the room, as set in the Room Settings pane of the editor.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room&#39;s top edge is at %d.&quot;, Room.TopEdge);
</code></pre>
<p><em>See also:</em> <a href="Room.html#roombottomedge"><code>Room.BottomEdge</code></a>, <a href="Room.html#roomleftedge"><code>Room.LeftEdge</code></a>, <a href="Room.html#roomrightedge"><code>Room.RightEdge</code></a></p>
<hr />
</section>
<section id="roomwidth" class="level3">
<h3><a href="#roomwidth"><code>Room.Width</code></a></h3>
<p><em>(Formerly known as <code>game.room_width</code>, which is now obsolete)</em></p>
<pre><code>readonly static int Room.Width
</code></pre>
<p>Returns the width of the room.</p>
<p>Example:</p>
<pre><code>Display(&quot;The current room size is %d x %d.&quot;, Room.Width, Room.Height);
</code></pre>
<p><em>See also:</em> <a href="Room.html#roomheight"><code>Room.Height</code></a></p>
</section>
</section>
  </main>


  <footer>
    <p>
      <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
      Build: 71e20d0fd8b896a257417446b505194dec21601f
    </p>
  </footer>

  <script src="js/search.js"></script>
  </div>
</body>
</html>
