<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Voice speech</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="header-bg"></div>
  <div class="container">
    <header>
      <h1>
        <a href="index.html">
          <img src="static/logo.svg" id="cup" width="48" height="48">
          AGS Manual
        </a>
      </h1>
      <label class="header_input search-box">
        <input type="search" id="search_input" placeholder="Search">
        <label class="toggle-icon" title="Match Case">
          <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
          <span>Aa</span>
        </label>
        <label class="toggle-icon" title="Match Whole Word">
          <input type="checkbox" id="wwtoggle" onclick="wwtoggle_clicked()" checked="checked">
          <span><u>ab</u></span>
        </label>
      </label>

      <label class="toggle-icon" title="Highlight">
        <input type="checkbox" id="hltoggle" onclick="hltoggle_clicked()" checked="checked">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" class="iconify iconify--carbon"><path fill="currentColor" d="M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"></path><path fill="currentColor" d="M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"></path></svg>
      </label>
      
      <label class="toggle-icon" title="Toggle dark mode">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" /></svg>
      </label>
      
      <label class="mobile-menu">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 32 32" width="24px" fill="currentColor"><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z" /></svg>
      </label>

      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>

      <ul id="search_results"></ul>
    </header>

  <nav>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
  </nav>

  <div class="content">
    <article>
      <main>
<section id="voice-speech" class="level2">
<h2><a href="#voice-speech">Voice speech</a></h2>
<p>With AGS you can link a line of dialog to a speech file, to enable "talkie"- style games. Suppose you have a dialog script with the following content:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode agsdialog"><code class="sourceCode agsdialog"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    ego<span class="op">:</span> <span class="st">&quot;Hi! How are you?&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    michael<span class="op">:</span> <span class="st">&quot;I&#39;m fine.&quot;</span></span></code></pre></div>
<p>Normally this would display the words in the speech text above the characters heads. However, you can add the special character '&amp;' to symbolize that a voice file should be played along with the displayed text.</p>
<p>The file name must follow a certain format, this format depends on the version of AGS that you are using, and an option called "Use old-style voice clip naming rule" which is found in <a href="GeneralSettings.html#backwards-compatibility">General Settings</a>.</p>
<p>Historically, the name had to be XXXXY.EXT, where XXXX comes from the <strong>first four letters</strong> of the character's script name (except the leading 'c'), case insensitive, the Y is the speech file number (with no leading or trailing zeroes or padding of any kind), and EXT is the file extension.</p>
<p>Starting with <strong>AGS v3.6.2</strong> the format is slightly different, it's CHARNAME.NUMBER.EXT, where CHARNAME is a full character's script name (but still except the leading 'c'), case insensitive, NUMBER is the speech file number (with no leading or trailing zeroes), and EXT is the file extension.</p>
<p>For example, if you have dialog script:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode agsdialog"><code class="sourceCode agsdialog"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    ego<span class="op">:</span> <span class="op">&amp;</span><span class="dv">10</span> <span class="st">&quot;Hi! How are you?&quot;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    michael<span class="op">:</span> <span class="op">&amp;</span><span class="dv">7</span> <span class="st">&quot;I&#39;m fine.&quot;</span></span></code></pre></div>
<p>or common script using Say script function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>cEgo<span class="op">.</span><span class="at">Say</span><span class="op">(</span><span class="st">&quot;&amp;10 Hi! How are you?&quot;</span><span class="op">);</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>cMichael<span class="op">.</span><span class="at">Say</span><span class="op">(</span><span class="st">&quot;&amp;7 I&#39;m fine.&quot;</span><span class="op">);</span></span></code></pre></div>
<p>If the old file naming format is used by your project, then both of those examples play Ego10.ogg and Mich7.ogg respectively.</p>
<p>If the new file naming format is used, then they play Ego.10.ogg and Michael.7.ogg files respectively.</p>
<p>When a line of text has a voice linked to it, the text on the screen will not be removed until the voice file has finished playing. If the player interrupts it by clicking the mouse or pressing a key, the text and voice will be stopped. Voice files must be placed in the "Speech" sub-directory of the game folder.</p>
<p>Script functions that support playing voice clips using this style are:</p>
<ul>
<li><a href="Character.html#charactersay">Character.Say</a>, <a href="Character.html#charactersayat">Character.SayAt</a>;</li>
<li><a href="Character.html#characterthink">Character.Think</a>;</li>
<li><a href="Globalfunctions_Message.html#display">Display</a> and family (<a href="Globalfunctions_Message.html#displayat">DisplayAt</a>, <a href="Globalfunctions_Message.html#displayaty">DisplayAtY</a>, and so forth). Display functions are using <code>game.narrator_speech</code> variable to know which character's clips to use.</li>
</ul>
<p><strong>NOTE:</strong> Speech file numbers are restricted to the positive range of 1 to 2147483647 (2 billion). This is a technical limitation based on how these are handled inside the engine, but we do not think that running out of numbers to use will ever become a problem to the user.</p>
<p>Since AGS 3.5.0 you can play voice clips directly using function <a href="Game.html#gameplayvoiceclip">Game.PlayVoiceClip</a>.</p>
<section id="voice-packs" class="level3">
<h3><a href="#voice-packs">Voice packs</a></h3>
<p>Any sound format supported by AGS can be used for speech as well.</p>
<p>AGS uses separate voice packs to store the speech files. The default voice pack is compiled by placing audio files in the "Speech" sub-directory of the game folder, and is named "speech.vox".</p>
<p>Since version 3.6.0, AGS also supports multiple alternate voice packs. These are compiled from <em>subdirectories</em> nested inside the "Speech" folder, and are named "sp_DIRNAME.vox", where DIRNAME is the name of that subdirectory. The speech files in these alternate directories must have the same names as files in the "Speech" directory itself. These extra packs are used to provide voice-over for different languages.</p>
<p>For example, if you have this folder structure in your game project:</p>
<ul>
<li>Speech</li>
<li><ul>
<li>Francais</li>
</ul></li>
<li><ul>
<li>MyLang</li>
</ul></li>
</ul>
<p>then the editor will create following voxes:</p>
<ul>
<li>speech.vox (with files only from the root "Speech" folder);</li>
<li>sp_francais.vox (with files from "Speech/Francais");</li>
<li>sp_mylang.vox (with files from "Speech/MyLang");</li>
</ul>
<p><strong>NOTE:</strong> only top-level files are included into the voice pack, any further subfolders are ignored.</p>
<p>Since AGS 3.6.0, the engine supports switching to a different speech vox anytime. To do so, there's a new script function <a href="Game.html#gamechangespeechvox">Game.ChangeSpeechVox</a>.</p>
<p>Note that the voice packs are considered optional, and your game will function correctly even without them, in case there is no voice pack, the game will display speech text but play no voice. This makes it possible for the game author to offer voice packs as an optional download for the players. If a particular speech file is missing from a voice pack, that will not not cause game errors and display just the text on screen.</p>
<p><em>SeeAlso:</em> <a href="Game.html#gamechangespeechvox"><code>Game.ChangeSpeechVox</code></a>, <a href="Speech.html#speechvoicemode"><code>Speech.VoiceMode</code></a></p>
</section>
</section>
      <a class="edit-link" href="https://github.com/adventuregamestudio/ags-manual-source/blob/master/VoiceSpeech.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit this page</a>
      </main>
      <footer>
        <p>
          <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
          Build: ed75ea05a92de6b9ff5582c5376524816e60c494
        </p>
      </footer>
    </article>
    
    <aside>
<ul>
<li><a href="#voice-speech" id="toc-voice-speech">Voice speech</a>
<ul>
<li><a href="#voice-packs" id="toc-voice-packs">Voice packs</a></li>
</ul></li>
</ul>
    </aside>
  </div>




  </div>
  <script src="js/navigation.js"></script>
  <script src="js/search.js"></script>
  
</body>
</html>
