<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Translations</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="container">
    <header>
      <label class="toggle-control" for="dark_mode_toggle">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <span class="control"></span>
      </label>
      <script src="js/darkmode.js"></script>
      <label class="search_input" for="search_input">Search:</label>
      <input type="search" id="search_input">
      <ul id="search_results"></ul>
    </header>

  <nav>
    <a href="index.html">
      <svg id="cup" width="72" height="48" viewBox="0 0 12 8" preserveAspectRatio="xMidYMid meet">
        <g shape-rendering="crispEdges">
          <rect width="10" height="7" fill="#ffffff" />
          <svg y="1">
            <rect width="12" height="5" fill="#ffffff" />
          </svg>
          <svg x="1">
            <rect width="8" height="8" fill="#ffffff" />
          </svg>
          <svg x="1" y="1">
            <rect width="8" height="5" fill="#2a7fff" />
          </svg>
          <svg x="2" y="6">
            <rect width="6" height="1" fill="#2a7fff" />
          </svg>
          <svg x="9" y="2">
            <rect width="2" height="3" fill="#2a7fff" />
          </svg>
          <svg x="9" y="3">
            <rect width="1" height="1" fill="#ffffff" />
          </svg>
          <svg x="2" y="2">
            <rect width="6" height="3" fill="#0000d4" />
          </svg>
          <svg x="3" y="5">
            <rect width="4" height="1" fill="#0000d4" />
          </svg>
          <svg x="2" y="1">
            <rect width="6" height="1" fill="#ffffff" />
          </svg>
        </g>
      </svg>
    </a>
    <h1>
      <a href="index.html">AGS Manual</a>
    </h1>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
<ul>
<li><a href="#translations"><span>Translations</span></a>
<ul>
<li><a href="#overview"><span>Overview</span></a></li>
<li><a href="#additional-options"><span>Additional options</span></a></li>
<li><a href="#troubleshooting"><span>Troubleshooting</span></a></li>
<li><a href="#advanced-help"><span>Advanced Help</span></a></li>
</ul></li>
</ul>
  </nav>

  <main>
<section id="translations" class="level2">
<h2><a href="#translations">Translations</a></h2>
<section id="overview" class="level3">
<h3><a href="#overview">Overview</a></h3>
<p>You can translate your game to multiple languages. In AGS the game translation works like a table of strings, where for each of the original text strings in your game you provide a translated replacement. This includes speech text in dialogs, any text in double-quotes in regular scripts, and also certain property values (GUI texts, character names, hotspot descriptions and similar). When you play a game with a translation enabled, AGS will automatically replace the displayed text on GUIs, character speech and text messages. For other cases there's a script function <a href="Globalfunctions_General.html#gettranslation"><code>GetTranslation</code></a> that lets you retrieve the translation for the wanted string which you may then use as necessary.</p>
<p>Let's move on to how translations are created in the editor.</p>
<p><img src="images/EditorTranslations_01.png" alt="Add a translation to your game project" /></p>
<p>When you have your game project opened right-click the "Translations" node in the tree, and choose "New translation". Once you've named it, AGS will ask if you want to populate the file now. Say yes.</p>
<p>A new file will be created in the game folder, called NAME.TRS, where NAME is the name you gave to the translation in the editor. This file is simply a text file by format and a .trs suffix, and will be generated with each original line of text separated by a blank line. That blank line is where you enter the translated text.</p>
<p>You can now work on translating these texts yourself or give this file to your translators. The idea is to fill in each blank line with the corresponding translation of the original line above it. If this empty line is left blank, it will simply not be translated and display the original line in the game.</p>
<p><strong>IMPORTANT:</strong> there are few ways to break your translation file and make it unusable for AGS. The following points are essential to keep in mind:</p>
<ul>
<li>DO NOT remove or replace original text lines, they are necessary to find matches.</li>
<li>DO NOT remove blank lines between original texts, just keep these empty lines if you are not going to translate the text. AGS treats each odd line as an original text and each even line as translated.</li>
<li>DO NOT add any extra lines in the middle, for the same reason. There are exceptions to this rule - see below.</li>
</ul>
<p>Once the translation is done, right-click the translation and choose "Compile". It will be converted into a compiled translation (<code>.TRA</code>) file in the Compiled folder, which can be used with the game engine.</p>
<p>Run the game Setup program, and select the translation from the drop-down box. Then, run the game, and all the text should be translated.</p>
<p>While most in-game text is translated automatically, there are a few instances when this is not possible. These are when a script uses functions like Append to build up a string, or CompareTo to check some user input. In these cases, you can use the <a href="Globalfunctions_General.html#gettranslation"><code>GetTranslation</code></a> function to make it work.</p>
<p><a href="StringFormats.html">Formatted strings</a> may also end up in translation file, these are ones that contain input placeholders such as '%s', '%d' and so on. It's <em>essential</em> that the translated line has all the same placeholders and has them in the same order. Otherwise this line may cause errors in game.</p>
<p>Please note, there is also an "Update" option when right-clicking a translation. This is useful if you've got a translated version of your game, but you want to update the game and add a few bits in. Once you've updated your game, run the Update Translation option and the translation file you select will get any new bits of text added to it at the bottom -- then you can just ask your translator to additionally translate these lines.</p>
</section>
<section id="additional-options" class="level3">
<h3><a href="#additional-options">Additional options</a></h3>
<p>There are two more things you can add to the translation file: comments and font options.</p>
<p>Comment lines should begin with <code>//</code>, just like in script, and anything else on the same line will be ignored, and such lines won't be counted when deciding which line is original text and which is the translation. Comments are allowed to be placed anywhere in the file, and they are a good way to keep notes for yourself or your translators.</p>
<p>Font options let you define certain font substitutes for this particular translation. All options begin with the comment opening and a pound sign: <code>//#</code> - followed by <code>OPTION=VALUE</code> kind of string where "OPTION" is the corresponding name. Following options are supported:</p>
<ul>
<li><strong>NormalFont</strong> - sets the font used for displaying messages on screen. This corresponds to the <a href="Game.html#gamenormalfont"><code>Game.NormalFont</code></a> script property. The value may be either the font's number or <code>DEFAULT</code> for no change.</li>
<li><strong>SpeechFont</strong> - sets the font used for character speech. This corresponds to the <a href="Game.html#gamespeechfont"><code>Game.SpeechFont</code></a> script property. The value may be either the font's number or <code>DEFAULT</code> for no change.</li>
<li><strong>TextDirection</strong> - sets the direction in which the text is written. This corresponds to calling the <a href="Globalfunctions_General.html#setgameoption"><code>SetGameOption</code></a> script function with the OPT_RIGHTTOLEFT argument. The value may be <code>LEFT</code> (for left-to-right), <code>RIGHT</code> (for right-to-left) or <code>DEFAULT</code>.</li>
</ul>
<p>Example:</p>
<pre><code>// The normal font to use - DEFAULT or font number
//#NormalFont=4
// The speech font to use - DEFAULT or font number
//#SpeechFont=DEFAULT
// Text direction - DEFAULT, LEFT or RIGHT
//#TextDirection=RIGHT
</code></pre>
<p>This would set NormalFont to font 4, leave SpeechFont unchanged, and switch text direction to Right-to-left mode.</p>
<p><strong>NOTE:</strong> these options are applied to game properties the moment new translation is enabled. But they are not kept permanently while that translation is active. Changing any of these in script would override values set by current translation.</p>
</section>
<section id="troubleshooting" class="level3">
<h3><a href="#troubleshooting">Troubleshooting</a></h3>
<p>If you have ?s displaying instead of special characters in the translated lines, make sure the <a href="Game.html#gamespeechfont">font</a> you use is imported into AGS correctly and supports the characters you want to display. In case some letters are mixed up this might be a mapping problem of the source font, you need to manually edit this fontsheet or just find a new font on the world wide web that works.</p>
<p>When you play the game with the translation enabled and special characters of the language are replaced with ?? (2 questionmarks specifically), this means the encoding of the .trs files uses 2 bytes for each character, so make sure you save and encode the .trs file to ANSI and NOT in unicode or UTF-8 encoding.</p>
<p>In some wordprocessors changing the encoding of the whole file to ANSI encoding changes the normal special characters to something even more unrecognisable, so you might have to run a search and replace function over the whole document for every special character that is used in that language (make sure to check for capitalized special characters too) after changing the encoding to ANSI. A lot of wordprocessors use Ctrl+H as hotkey for the search and replace function.</p>
</section>
<section id="advanced-help" class="level3">
<h3><a href="#advanced-help">Advanced Help</a></h3>
<p>There is a great Editor Plugin called <a href="https://www.adventuregamestudio.co.uk/forums/index.php?topic=45622.0">Speech Center</a> that makes handling translations easier. You can find a download link for the file in the linked AGS Forum thread.</p>
<p><em>See also:</em> <a href="Game.html#gamechangetranslation"><code>Game.ChangeTranslation</code></a>, <a href="Game.html#gametranslationfilename"><code>Game.TranslationFilename</code></a>, <a href="Globalfunctions_General.html#gettranslation"><code>GetTranslation</code></a>, <a href="Globalfunctions_General.html#istranslationavailable"><code>IsTranslationAvailable</code></a></p>
</section>
</section>
  </main>


  <footer>
    <p>Build: 29b9718c004b29ad4bedb21216a2cc16995f1170</p>
  </footer>

  <script src="js/search.js"></script>
  </div>
</body>
</html>
