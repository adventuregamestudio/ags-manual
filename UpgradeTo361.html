<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Upgrading to AGS 3.6.1</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="container">
    <header>
      <label class="header_input search-box">
        <input type="search" id="search_input" placeholder="Search">
        <label class="toggle-icon" title="Match Case">
          <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
          <span>Aa</span>
        </label>
        <label class="toggle-icon" title="Match Whole Word">
          <input type="checkbox" id="wwtoggle" onclick="wwtoggle_clicked()" checked="checked">
          <span><u>ab</u></span>
        </label>
      </label>

      <label class="toggle-icon" title="Highlight">
        <input type="checkbox" id="hltoggle" onclick="hltoggle_clicked()" checked="checked">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" class="iconify iconify--carbon"><path fill="currentColor" d="M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"></path><path fill="currentColor" d="M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"></path></svg>
      </label>
      
      <label class="toggle-icon" title="Toggle dark mode">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" /></svg>
      </label>

      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>

      <ul id="search_results"></ul>
    </header>

  <nav>
    <h1>
      <a href="index.html">
        <svg id="cup" width="48" height="48" viewBox="0 0 12 8" preserveAspectRatio="xMidYMid meet">
          <g shape-rendering="crispEdges">
            <rect width="10" height="7" fill="#ffffff" />
            <svg y="1">
              <rect width="12" height="5" fill="#ffffff" />
            </svg>
            <svg x="1">
              <rect width="8" height="8" fill="#ffffff" />
            </svg>
            <svg x="1" y="1">
              <rect width="8" height="5" fill="#2a7fff" />
            </svg>
            <svg x="2" y="6">
              <rect width="6" height="1" fill="#2a7fff" />
            </svg>
            <svg x="9" y="2">
              <rect width="2" height="3" fill="#2a7fff" />
            </svg>
            <svg x="9" y="3">
              <rect width="1" height="1" fill="#ffffff" />
            </svg>
            <svg x="2" y="2">
              <rect width="6" height="3" fill="#0000d4" />
            </svg>
            <svg x="3" y="5">
              <rect width="4" height="1" fill="#0000d4" />
            </svg>
            <svg x="2" y="1">
              <rect width="6" height="1" fill="#ffffff" />
            </svg>
          </g>
        </svg>
        AGS Manual
      </a>
    </h1>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
<ul>
<li><a href="#upgrading-to-ags-361" id="toc-upgrading-to-ags-361">Upgrading to AGS 3.6.1</a>
<ul>
<li><a href="#log-panel-in-the-editor" id="toc-log-panel-in-the-editor">Log Panel in the Editor</a></li>
<li><a href="#new-sprite-compression-option" id="toc-new-sprite-compression-option">New sprite compression option</a></li>
<li><a href="#expanded-interaction-callbacks" id="toc-expanded-interaction-callbacks">Expanded interaction callbacks</a></li>
<li><a href="#disabled-automatic-setrestartpoint" id="toc-disabled-automatic-setrestartpoint">Disabled automatic SetRestartPoint</a></li>
<li><a href="#discontinued-source-control-integration" id="toc-discontinued-source-control-integration">Discontinued Source control integration</a></li>
</ul></li>
</ul>
  </nav>

  <main>
<section id="upgrading-to-ags-361" class="level2">
<h2><a href="#upgrading-to-ags-361">Upgrading to AGS 3.6.1</a></h2>
<p>3.6.1 is a <em>relatively</em> minor update, focusing on performance and convenience of existing features. There are no breaking changes to the game settings or script, but there are few things that should be mentioned.</p>
<section id="log-panel-in-the-editor" class="level3">
<h3><a href="#log-panel-in-the-editor">Log Panel in the Editor</a></h3>
<p>Editor now has a Log Panel, which may be shown by a command in "Window" menu. This panel is quite useful when testing your game, because it prints the engine logs, including the messages printed from script using <a href="System.html#systemlog">System.Log</a> function. For more information on configuring this panel please refer to <a href="EditorLogPanel.html">the corresponding page</a>.</p>
</section>
<section id="new-sprite-compression-option" class="level3">
<h3><a href="#new-sprite-compression-option">New sprite compression option</a></h3>
<p>Back in 3.6.0 we added LZW to sprite compression choice, because LZW was already been in use for room backgrounds. In 3.6.1 release there's a new option called "Deflate", which enables compression type of the same name. This compression is known to be used in such file formats as GZIP and PNG, and provides even more saved disk space than LZW.</p>
</section>
<section id="expanded-interaction-callbacks" class="level3">
<h3><a href="#expanded-interaction-callbacks">Expanded interaction callbacks</a></h3>
<p>All the interaction event callbacks for Characters, Inventory Items and so on now have extended parameter list with a pointer to a interacted object and a cursor mode that triggered interaction, somewhat similar to GUI event callbacks. They now look like this:</p>
<pre><code>function Ego_Interact(Character *thisCharacter, CursorMode mode)
function oObject1_Look(Object *thisObject, CursorMode mode)</code></pre>
<p>and so forth. There are few exceptions that do not include CursorMode, as the events are run from different actions, such as Hotspot's "WalkOn" and "MouseOver" events, and also all of the Region's callbacks. These include only activated object's pointer.</p>
<p>The reason to have these is to let you use a single script function for multiple interaction modes and/or multiple objects, when necessary. In such case you can use the pointer to access activated object and "mode" parameter to know which mode was used to trigger the event. If the function is only used for a single object / interaction, then you may ignore these and keep using real object's script name as you always do.</p>
<p>Note that you do not have to add these parameters to existing functions after you loaded old game into the new Editor. Your game will run fine even if these parameters are not declared there.</p>
</section>
<section id="disabled-automatic-setrestartpoint" class="level3">
<h3><a href="#disabled-automatic-setrestartpoint">Disabled automatic SetRestartPoint</a></h3>
<p>Previously AGS engine was saving a restart point (save slot 999) automatically right after a "game_start" script function call. Starting with 3.6.1 this will not be done. Instead, you should add "SetRestartPoint()" call into your game script yourself, if you need that.</p>
<p>This was done to let users have an option to NOT have this default save. For example, some games may have custom save files, or just don't use this save slot, so it's not good to force them have it too without any way to disable it.</p>
<p>When you load older projects into 3.6.1 editor, AGS will <em>insert</em> a "SetRestartPoint()" call at the end of your "game_start" function in GlobalScript, to keep this behavior. If you don't like it be there you may safely remove this line.</p>
</section>
<section id="discontinued-source-control-integration" class="level3">
<h3><a href="#discontinued-source-control-integration">Discontinued Source control integration</a></h3>
<p>This feature theoretically allowed you to put your game files under source control, using either Microsoft's SourceSafe utility if one is installed on PC, or a custom AGS plugin written for this purpose. It is not known to us whether this functionality was ever known and used by any AGS users, but it was not properly maintained throughout the last decade, and hence is probably broken anyway. Today it's easier to let people use their own source control tool (like Git or Mercurial) without integration with AGS Editor. Therefore this feature is completely removed from the program now.</p>
</section>
</section>
  </main>


  <footer>
    <p>
      <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
      Build: 6c418594a91569826e36a9a47c628df90c3e0264
    </p>
  </footer>

  <script src="js/search.js"></script>
  </div>
</body>
</html>
