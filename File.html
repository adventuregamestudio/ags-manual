<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>File functions and properties</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="header-bg"></div>
  <div class="container">
    <header>
      <h1>
        <a href="index.html">
          <img src="static/logo.svg" id="cup" width="48" height="48">
          AGS Manual
        </a>
      </h1>
      <label class="header_input search-box">
        <input type="search" id="search_input" placeholder="Search">
        <label class="toggle-icon" title="Match Case">
          <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
          <span>Aa</span>
        </label>
        <label class="toggle-icon" title="Match Whole Word">
          <input type="checkbox" id="wwtoggle" onclick="wwtoggle_clicked()" checked="checked">
          <span><u>ab</u></span>
        </label>
      </label>

      <label class="toggle-icon" title="Highlight">
        <input type="checkbox" id="hltoggle" onclick="hltoggle_clicked()" checked="checked">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" class="iconify iconify--carbon"><path fill="currentColor" d="M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"></path><path fill="currentColor" d="M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"></path></svg>
      </label>
      
      <label class="toggle-icon" title="Toggle dark mode">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" /></svg>
      </label>
      
      <label class="mobile-menu">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 32 32" width="24px" fill="currentColor"><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z" /></svg>
      </label>

      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>

      <ul id="search_results"></ul>
    </header>

  <nav>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
  </nav>

  <div class="content">
    <article>
      <main>
<section id="file-functions-and-properties" class="level2">
<h2><a href="#file-functions-and-properties"><code>File</code> functions and properties</a></h2>
<section id="filecopy" class="level3">
<h3><a href="#filecopy"><code>File.Copy</code></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">bool</span> <span class="bu">File</span><span class="op">.</span><span class="at">Copy</span><span class="op">(</span>const string old_filename<span class="op">,</span> const string new_filename<span class="op">);</span></span></code></pre></div>
<p>Creates a copy of an existing file. If there's already a file with the new name then it will be overwritten. Any directory necessary is also created. Returns false in any failure and true if it succeeds.</p>
<p><strong>NOTE:</strong> You can only write to <code>$INSTALLDIR$</code>, <code>$SAVEGAMEDIR$</code> and <code>$APPDATADIR$</code>, so <code>new_filename</code> parameter must start with one of those. See <code>File.Open</code> documentation for more information.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filepath"><code>File.Path</code></a>, <a href="File.html#filerename"><code>File.Rename</code></a></p>
<hr />
</section>
<section id="filegetfiletime" class="level3">
<h3><a href="#filegetfiletime"><code>File.GetFileTime</code></a></h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">DateTime</span><span class="op">*</span> <span class="bu">File</span><span class="op">.</span><span class="at">GetFileTime</span><span class="op">(</span>const string filename<span class="op">);</span></span></code></pre></div>
<p>Retrieves specified file's last write time. Returns null if file does not exist.</p>
<p>Example:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">room_AfterFadeIn</span><span class="op">()</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> filename = <span class="st">&quot;$SAVEGAMEDIR$/game_config.ini&quot;</span><span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">DateTime</span> <span class="op">*</span>dt = <span class="bu">File</span><span class="op">.</span><span class="at">GetFileTime</span><span class="op">(</span>filename<span class="op">);</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="op">(</span>dt <span class="op">==</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;File &#39;%s&#39; not found.&quot;</span><span class="op">,</span> filename<span class="op">);</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;File &#39;%s&#39; was last modified on: %02d-%02d-%04d %02d:%02d:%02d&quot;</span><span class="op">,</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>      filename<span class="op">,</span> dt<span class="op">.</span><span class="at">DayOfMonth</span><span class="op">,</span> dt<span class="op">.</span><span class="at">Month</span><span class="op">,</span> dt<span class="op">.</span><span class="at">Year</span><span class="op">,</span> dt<span class="op">.</span><span class="at">Hour</span><span class="op">,</span> dt<span class="op">.</span><span class="at">Minute</span><span class="op">,</span> dt<span class="op">.</span><span class="at">Second</span><span class="op">);</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This example looks for a custom config file placed in the save game directory and tells its modified time if the file exists.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filepath"><code>File.Path</code></a></p>
<hr />
</section>
<section id="fileopen" class="level3">
<h3><a href="#fileopen"><code>File.Open</code></a></h3>
<p><em>(Formerly known as <code>FileOpen</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">File</span><span class="op">*</span> <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span>string filename<span class="op">,</span> <span class="dt">FileMode</span><span class="op">)</span></span></code></pre></div>
<p>Opens a disk file for reading or writing, and returns a <code>File</code> object pointer which you may use to perform operations on this file, or <em>null</em> if engine failed to open a file for whatever reasons.</p>
<p>MODE is either <code>eFileRead</code>, <code>eFileWrite</code> or <code>FileAppend</code>, depending on whether you want to write to or read from the file. If you pass <code>eFileWrite</code> and a file called FILENAME already exists, it will be overwritten.</p>
<p><code>eFileAppend</code> opens an existing file for writing and starts adding information at the end (i.e. the existing contents are not deleted).</p>
<p>When specifying a file path you may use tags that define either a special file or location.</p>
<p>Following <em>file tags</em> are supported:<br> <code>$CONFIGFILE$</code>, which allows you to open player's configuration file for reading or writing. This is recommended to be used instead of telling exact path, because config file may be found in different places depending on game settings or personal player's setup.</p>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$CONFIGFILE$&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span></code></pre></div>
<p>Following <em>location tags</em> are supported:</p>
<ul>
<li><code>$DATA$</code>, which allows you to read files that are packaged inside the game package, originally from a directory specified in the General Settings, in the <strong>Package custom data folder(s)</strong> option, on the Compiler category. Files stored in this way can only be opened in read mode.</li>
<li><code>$INSTALLDIR$</code>, which allows you to explicitly read files in the game installation directory.</li>
<li><code>$SAVEGAMEDIR$</code>, which allows you to write/read files in the save game directory.</li>
<li><code>$APPDATADIR$</code>, which allows you to write/read files to a folder on the system which is accessible by and shared by all users. The example of their use is below.</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$DATA$/datadir/book.txt&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$INSTALLDIR$/game.dat&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/userinfo.txt&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$APPDATADIR$/scoretable.dat&quot;</span><span class="op">,</span> <span class="bu">eFileAppend</span><span class="op">);</span></span></code></pre></div>
<p><strong>IMPORTANT:</strong> For security reasons, if you open the file for writing, then you can ONLY work with files in either <code>$SAVEGAMEDIR$</code> or <code>$APPDATADIR$</code> locations. An attempt to write file in <code>$INSTALLDIR$</code> will result in failure, and <em>null</em> is returned. Similarily, if you try to open a file for writing using an absolute path, or relative path that points to location outside of the game directory, it will be automatically rejected, and <em>null</em> is returned.</p>
<p><strong>IMPORTANT:</strong> An attempt to write file into relative path <em>without specifying any location tag</em> will make AGS automatically remap such path into <code>$APPDATADIR$</code>. This is done for backward compatibility. To ensure that your script does exactly what you want, please use location tags.</p>
<p><strong>NOTE:</strong> You are allowed to have subdirectories in the path. If the file is opened for writing, AGS will be responsible for creating these subdirectories. If it fails to do so for any reason, the the file won't be opened.</p>
<p><code>File.Open</code> returns a File* pointer, which you should store in a variable of that type. You may then use that pointer to perform reading or writing operations. After finishing work you should close the file with the <code>Close</code> function. There are only a limited number of file handles, and forgetting to close the file can lead to problems later on.</p>
<p>Example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/temp.tmp&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>output <span class="op">==</span> null<span class="op">)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Error opening file.&quot;</span><span class="op">);</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="op">{</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    output<span class="op">.</span><span class="at">WriteString</span><span class="op">(</span><span class="st">&quot;test string&quot;</span><span class="op">);</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>will open the file temp.tmp in the save game folder for writing. An error message is displayed if the file could not be created. Otherwise, it will write the string "test string" to the file and close it.</p>
<p><strong>NOTE:</strong> Open file pointers are not persisted across save games. That is, if you open a file, then save the game; then when you restore the game, the File will not be usable and you'll have to open it again to continue any I/O. The safest practice is not to declare any global File variables.</p>
<p><em>Compatibility:</em></p>
<p>Subdirectories are created when opening a file for writing by AGS 3.5.0 and later versions. $CONFIGFILE$ tag supported by AGS 3.5.1 and later versions. $DATA$ tag supported by AGS 3.6.0 and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileclose"><code>File.Close</code></a>, <a href="File.html#fileexists"><code>File.Exists</code></a>, <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#filewritestring"><code>File.WriteString</code></a>, <a href="GeneralSettings.html#compiler">General Settings</a></p>
<hr />
</section>
<section id="filerename" class="level3">
<h3><a href="#filerename"><code>File.Rename</code></a></h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">bool</span> <span class="bu">File</span><span class="op">.</span><span class="at">Rename</span><span class="op">(</span>const string old_filename<span class="op">,</span> const string new_filename<span class="op">);</span></span></code></pre></div>
<p>Renames an existing file. If there's already a file with the new name then it will be overwritten. Any directory necessary is also created. Returns false in any failure and true if it succeeds.</p>
<p><strong>NOTE:</strong> You can only write to <code>$INSTALLDIR$</code>, <code>$SAVEGAMEDIR$</code> and <code>$APPDATADIR$</code>, so both parameters must start with one of those. See <code>File.Open</code> documentation for more information.</p>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">room_AfterFadeIn</span><span class="op">()</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> filename = <span class="st">&quot;$SAVEGAMEDIR$/game_config.ini&quot;</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> bkp = filename<span class="op">.</span><span class="at">Append</span><span class="op">(</span><span class="st">&quot;.bkp&quot;</span><span class="op">);</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">bool</span> success = <span class="bu">File</span><span class="op">.</span><span class="at">Rename</span><span class="op">(</span>filename<span class="op">,</span> bkp<span class="op">);</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="op">(</span>success<span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;File renamed successfully.&quot;</span><span class="op">);</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Failed to rename the file.&quot;</span><span class="op">);</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In this example, a file is renamed as a backup, possibly in antecipation to a new write to disk.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filepath"><code>File.Path</code></a>, <a href="File.html#filecopy"><code>File.Copy</code></a></p>
<hr />
</section>
<section id="fileresolvepath" class="level3">
<h3><a href="#fileresolvepath"><code>File.ResolvePath</code></a></h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">String</span> <span class="bu">File</span><span class="op">.</span><span class="at">ResolvePath</span><span class="op">(</span>string filename<span class="op">)</span></span></code></pre></div>
<p>Resolves the script path into the system filepath, this should be used only for diagnostic purposes.</p>
<p>This will process all tokens and all rules described in <code>File.Open</code> and return the resulting path, which can be helpful when debugging or when you want to present this information somewhere to help debugging some problem in the game. This resolved path should not be re-used in subsequent <code>File.Open</code> calls.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.1</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filepath"><code>File.Path</code></a></p>
<hr />
</section>
<section id="fileclose" class="level3">
<h3><a href="#fileclose"><code>File.Close</code></a></h3>
<p><em>(Formerly known as <code>FileClose</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Close</span><span class="op">()</span></span></code></pre></div>
<p>Closes the file, and commits all changes to disk. You <strong>must</strong> call this function when you have finished reading/writing the file.</p>
<p>Example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/test.dat&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteString</span><span class="op">(</span><span class="st">&quot;test string&quot;</span><span class="op">);</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open the file test.dat, write the string "test string", and close it.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a></p>
<hr />
</section>
<section id="filedelete" class="level3">
<h3><a href="#filedelete"><code>File.Delete</code></a></h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">File</span><span class="op">.</span><span class="at">Delete</span><span class="op">(</span>string filename<span class="op">)</span></span></code></pre></div>
<p>Deletes the specified file from the disk.</p>
<p>For security reasons this command only works with files in the <code>$SAVEGAMEDIR$</code> and <code>$APPDATADIR$</code> directories.</p>
<p><strong>NOTE:</strong> This is a static function, therefore you don't need an open File pointer to use it. See the example below.</p>
<p>Example:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">Delete</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/temp.tmp&quot;</span><span class="op">);</span></span></code></pre></div>
<p>will delete the file "temp.tmp" from the app data directory, if it exists.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.0.1</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileexists"><code>File.Exists</code></a>, <a href="File.html#fileopen"><code>File.Open</code></a></p>
<hr />
</section>
<section id="fileexists" class="level3">
<h3><a href="#fileexists"><code>File.Exists</code></a></h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">bool</span> <span class="bu">File</span><span class="op">.</span><span class="at">Exists</span><span class="op">(</span>string filename<span class="op">)</span></span></code></pre></div>
<p>Checks if the specified file exists on the file system.</p>
<p><em>filename</em> may include any file tags or location tags, which are described for <a href="File.html#fileopen"><code>File.Open</code></a>.</p>
<p><strong>NOTE:</strong> This is a static function, therefore you don't need an open File pointer to use it. See the example below.</p>
<p>Example:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(!</span><span class="bu">File</span><span class="op">.</span><span class="at">Exists</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/temp.tmp&quot;</span><span class="op">))</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/temp.tmp&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    output<span class="op">.</span><span class="at">WriteString</span><span class="op">(</span><span class="st">&quot;some text&quot;</span><span class="op">);</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>will create the file "temp.tmp" if it doesn't exist</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.0.1</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#filedelete"><code>File.Delete</code></a>, <a href="File.html#fileopen"><code>File.Open</code></a></p>
<hr />
</section>
<section id="filegetfiles" class="level3">
<h3><a href="#filegetfiles"><code>File.GetFiles</code></a></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">String</span><span class="op">[]</span> <span class="bu">File</span><span class="op">.</span><span class="at">GetFiles</span><span class="op">(</span>string fileMask<span class="op">,</span> optional FileSortStyle fileSortStyle<span class="op">,</span> optional SortDirection sortDirection<span class="op">)</span></span></code></pre></div>
<p>Returns a dynamic array of filenames that match the specified file mask, optionally sorted using certain style and direction. By default it sorts files by their names in ascending order. If no matching files were found, returns an empty array (which Length is 0).</p>
<p><em>fileMask</em> is a standard wildcard search expression such as <code>"*.dat"</code> or <code>"data*.*"</code></p>
<p><em>fileMask</em> may include any file tags or location tags, which are described for <a href="File.html#fileopen"><code>File.Open</code></a>.</p>
<p><em>FileSortStyle</em> determines which file property will be used when sorting the list of filenames. It can be:</p>
<ul>
<li>eFileSort_None - don't sort, the order will be unspecified;</li>
<li>eFileSort_Name - sort by name (this sort is case insensitive for cross-platform compatibility);</li>
<li>eFileSort_Time - sort by write time (time when this file was created or last written to).</li>
</ul>
<p><em>SortDirection</em> determines the order of sorting:</p>
<ul>
<li>eSortNoDirection - unspecified;</li>
<li>eSortAscending;</li>
<li>eSortDescending.</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> files<span class="op">[]</span> = <span class="bu">File</span><span class="op">.</span><span class="at">GetFiles</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/*.dat&quot;</span><span class="op">,</span> eFileSort_Time<span class="op">,</span> eSortDescending<span class="op">);</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>files<span class="op">.</span><span class="at">Length</span> <span class="op">&gt;</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Last saved custom dat file is: %s&quot;</span><span class="op">,</span> files<span class="op">[</span><span class="dv">0</span><span class="op">]);</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>will search the save game directory for all files matching "*.dat" pattern, ordered by a time of writing in reverse order, and display the name of the most recently written one.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="ListBox.html#listboxfilldirlist"><code>ListBox.FillDirList</code></a></p>
<hr />
</section>
<section id="filereadrawbytes" class="level3">
<h3><a href="#filereadrawbytes"><code>File.ReadRawBytes</code></a></h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> <span class="bu">File</span><span class="op">.</span><span class="at">ReadRawBytes</span><span class="op">(</span><span class="dt">char</span> bytes<span class="op">[],</span> <span class="dt">int</span> index<span class="op">,</span> <span class="dt">int</span> count<span class="op">);</span></span></code></pre></div>
<p>Reads up to "count" number of bytes and stores them in a provided dynamic array, starting with certain index. Returns actual number of read bytes.</p>
<p>Example:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">room_AfterFadeIn</span><span class="op">()</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> filename = <span class="st">&quot;$SAVEGAMEDIR$/example.dat&quot;</span><span class="op">;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">File</span><span class="op">*</span> f = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span>filename<span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span><span class="op">(</span>f <span class="op">==</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Error opening file &#39;%s&#39; for reading&quot;</span><span class="op">,</span> filename<span class="op">);</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span><span class="op">;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> buf_len = <span class="dv">7</span><span class="op">;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">char</span> buffer<span class="op">[]</span> = <span class="kw">new</span> <span class="dt">char</span><span class="op">[</span>buf_len<span class="op">];</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> read = f<span class="op">.</span><span class="at">ReadRawBytes</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> buf_len<span class="op">);</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  f<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span>buf_len<span class="dv">-1</span><span class="op">]</span> = <span class="dv">0</span><span class="op">;</span> <span class="co">// for safety</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Read &#39;%d&#39; bytes</span><span class="sc">\n</span><span class="st">buffer got &#39;%s&#39;.&quot;</span><span class="op">,</span> read<span class="op">,</span> buffer<span class="op">);</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In this example, it reads a file <code>"example.dat"</code>, that has data that can be interpreted as text, from <code>File.WriteRawBytes</code> example.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#filewriterawbytes"><code>File.WriteRawBytes</code></a></p>
<hr />
</section>
<section id="filereadint" class="level3">
<h3><a href="#filereadint"><code>File.ReadInt</code></a></h3>
<p><em>(Formerly known as <code>FileReadInt</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">ReadInt</span><span class="op">()</span></span></code></pre></div>
<p>Reads an integer from the file, and returns it to the script. Only integers written with File.WriteInt can be read back.</p>
<p>Example:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> number<span class="op">;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>input = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/stats.dat&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>number = input<span class="op">.</span><span class="at">ReadInt</span><span class="op">();</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>input<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open the file stats.dat, read an integer into number and then close the file.</p>
<p><em>See also:</em> <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#filewriteint"><code>File.WriteInt</code></a></p>
<hr />
</section>
<section id="filereadrawchar" class="level3">
<h3><a href="#filereadrawchar"><code>File.ReadRawChar</code></a></h3>
<p><em>(Formerly known as <code>FileReadRawChar</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> <span class="bu">File</span><span class="op">.</span><span class="at">ReadRawChar</span><span class="op">()</span></span></code></pre></div>
<p>Reads a raw character from the input file and returns it. This function allows you to read from files that weren't created by your game, however it is recommended for expert users only.</p>
<p>Example:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>input = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/stats.txt&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> buffer = <span class="bu">String</span><span class="op">.</span><span class="at">Format</span><span class="op">(</span><span class="st">&quot;%c&quot;</span><span class="op">,</span> input<span class="op">.</span><span class="at">ReadRawChar</span><span class="op">());</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>input<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will read a raw character from file stats.txt and writes it to the string 'buffer'.</p>
<p><em>See also:</em> <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#filereadrawint"><code>File.ReadRawInt</code></a>, <a href="File.html#filewriterawchar"><code>File.WriteRawChar</code></a></p>
<hr />
</section>
<section id="filereadrawfloat" class="level3">
<h3><a href="#filereadrawfloat"><code>File.ReadRawFloat</code></a></h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dt">float</span> <span class="bu">File</span><span class="op">.</span><span class="at">ReadRawFloat</span><span class="op">()</span></span></code></pre></div>
<p>Reads the next raw 32-bit float from the file.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#filewriterawfloat"><code>File.WriteRawFloat</code></a>, <a href="File.html#filereadrawint"><code>File.ReadRawInt</code></a>, <a href="File.html#filereadrawchar"><code>File.ReadRawChar</code></a></p>
<hr />
</section>
<section id="filereadrawint" class="level3">
<h3><a href="#filereadrawint"><code>File.ReadRawInt</code></a></h3>
<p><em>(Formerly known as <code>FileReadRawInt</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> <span class="bu">File</span><span class="op">.</span><span class="at">ReadRawInt</span><span class="op">()</span></span></code></pre></div>
<p>Reads a raw 32-bit integer from the input file and returns it to the script. This allows you to read from files created by other programs - however, it should only be used by experts as no error-checking is performed.</p>
<p>Example:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> number<span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>input = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/stats.txt&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>number = input<span class="op">.</span><span class="at">ReadRawInt</span><span class="op">();</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>input<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will read a raw integer from file stats.txt and put it into the integer number.</p>
<p><em>See also:</em> <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#filewriterawint"><code>File.WriteRawInt</code></a> <a href="File.html#filereadrawchar"><code>File.ReadRawChar</code></a></p>
<hr />
</section>
<section id="filereadrawlineback" class="level3">
<h3><a href="#filereadrawlineback"><code>File.ReadRawLineBack</code></a></h3>
<p><em>(Formerly known as <code>File.ReadRawLine</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> <span class="bu">File</span><span class="op">.</span><span class="at">ReadRawLineBack</span><span class="op">()</span></span></code></pre></div>
<p>Reads a line of text back in from the file and returns it. This enables you to read in lines from text files and use them in your game.</p>
<p><strong>NOTE:</strong> this command can only read back plain text lines from text files. If you attempt to use it with binary files or files written with commands like WriteString, WriteInt, etc then the results are unpredictable.</p>
<p>Example:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>input = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/error.log&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>input <span class="op">!=</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(!</span>input<span class="op">.</span><span class="at">EOF</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> line = input<span class="op">.</span><span class="at">ReadRawLineBack</span><span class="op">();</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;%s&quot;</span><span class="op">,</span> line<span class="op">);</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    input<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>will display the contents of the 'error.log' file, if it exists</p>
<p><em>See also:</em> <a href="File.html#filewriterawline"><code>File.WriteRawLine</code></a></p>
<hr />
</section>
<section id="filereadstringback" class="level3">
<h3><a href="#filereadstringback"><code>File.ReadStringBack</code></a></h3>
<p><em>(Formerly known as <code>FileRead</code>, which is now obsolete)</em><br> <em>(Formerly known as <code>File.ReadString</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> <span class="bu">File</span><span class="op">.</span><span class="at">ReadStringBack</span><span class="op">()</span></span></code></pre></div>
<p>Reads a string back in from a file previously opened with File.Open, and returns it. You should only use this with files which you previously wrote out with File.WriteString. Do NOT use this function with any other files, even text files.</p>
<p>Example:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>input = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/test.dat&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> buffer = input<span class="op">.</span><span class="at">ReadStringBack</span><span class="op">();</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>input<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open the file test.dat (which you have previously written with File.WriteString) and read a string into the buffer. Then close the file.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filewritestring"><code>File.WriteString</code></a></p>
<hr />
</section>
<section id="fileseek" class="level3">
<h3><a href="#fileseek"><code>File.Seek</code></a></h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> <span class="fu">Seek</span><span class="op">(</span><span class="dt">int</span> offset<span class="op">,</span> optional <span class="dt">FileSeek</span> origin<span class="op">);</span></span></code></pre></div>
<p>Moves read/write position by <em>offset</em> bytes related to <em>origin</em>. Returns new read/write position. This is usually used when you are reading file and want to skip over some data, or writing a file and want to move back and overwrite a piece of data in the previous section for some reason.</p>
<p>The <em>origin</em> is determined by one of the FileSeek types: eSeekBegin - counts <em>offset</em> bytes starting from the file's beginning; <em>offset</em> must be positive.<br> eSeekCurrent - counts <em>offset</em> bytes starting from the current position; <em>offset</em> may be either positive or negative.<br> eSeekEnd - counts <em>offset</em> bytes starting from the file's end, going backwards; <em>offset</em> must be positive.</p>
<p>If optional <em>origin</em> parameter is not specified, eSeekCurrent type is used by default.</p>
<p><strong>IMPORTANT:</strong> Do not use Seek on files which you have written with safe data writing functions, such as WriteInt and WriteString. These functions add additional data for the purpose of protection against incorrect reading, and Seek ignores that protection. If you use Seek and then try to ReadIntBack, for example, most probably you will receive a reading error. Only use it on files that contain "raw" data, or when you know written format precisely.</p>
<p>Example:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>input = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/test.dat&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> first_value = input<span class="op">.</span><span class="at">ReadRawInt</span><span class="op">();</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>input<span class="op">.</span><span class="at">Seek</span><span class="op">(</span><span class="dv">256</span><span class="op">);</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> second_value = input<span class="op">.</span><span class="at">ReadRawInt</span><span class="op">();</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>input<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open the file test.dat, read <code>first_value</code>, skip 256 bytes, read <code>second_value</code>, and close the file.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.4.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileposition"><code>File.Position</code></a></p>
<hr />
</section>
<section id="filewriterawbytes" class="level3">
<h3><a href="#filewriterawbytes"><code>File.WriteRawBytes</code></a></h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> <span class="bu">File</span><span class="op">.</span><span class="at">WriteRawBytes</span><span class="op">(</span><span class="dt">char</span> bytes<span class="op">[],</span> <span class="dt">int</span> index<span class="op">,</span> <span class="dt">int</span> count<span class="op">);</span></span></code></pre></div>
<p>Writes up to "count" number of bytes from the provided dynamic array, starting with certain index. Returns actual number of written bytes.</p>
<p>Example:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="fu">room_AfterFadeIn</span><span class="op">()</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">String</span> filename = <span class="st">&quot;$SAVEGAMEDIR$/example.dat&quot;</span><span class="op">;</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">File</span><span class="op">*</span> f = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span>filename<span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span><span class="op">(</span>f <span class="op">==</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Error opening file &#39;%s&#39; for writing&quot;</span><span class="op">,</span> filename<span class="op">);</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span><span class="op">;</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> buf_len = <span class="dv">6</span><span class="op">;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">char</span> buffer<span class="op">[]</span> = <span class="kw">new</span> <span class="dt">char</span><span class="op">[</span>buf_len<span class="op">];</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span><span class="dv">0</span><span class="op">]</span> = <span class="st">&#39;H&#39;</span><span class="op">;</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span><span class="dv">1</span><span class="op">]</span> = <span class="st">&#39;e&#39;</span><span class="op">;</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span><span class="dv">2</span><span class="op">]</span> = <span class="st">&#39;l&#39;</span><span class="op">;</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span><span class="dv">3</span><span class="op">]</span> = <span class="st">&#39;l&#39;</span><span class="op">;</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span><span class="dv">4</span><span class="op">]</span> = <span class="st">&#39;o&#39;</span><span class="op">;</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  buffer<span class="op">[</span><span class="dv">5</span><span class="op">]</span> = <span class="st">&#39;!&#39;</span><span class="op">;</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> written = f<span class="op">.</span><span class="at">WriteRawBytes</span><span class="op">(</span>buffer<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> buf_len<span class="op">);</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  f<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Wrote &#39;%d&#39; bytes&quot;</span><span class="op">,</span> written<span class="op">);</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Writes the string <code>"Hello!"</code> using write bytes to a file named <code>"example.dat"</code>.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#filereadrawbytes"><code>File.ReadRawBytes</code></a></p>
<hr />
</section>
<section id="filewriteint" class="level3">
<h3><a href="#filewriteint"><code>File.WriteInt</code></a></h3>
<p><em>(Formerly known as <code>FileWriteInt</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">WriteInt</span><span class="op">(</span><span class="dt">int</span> value<span class="op">)</span></span></code></pre></div>
<p>Writes VALUE to the file. This allows you to save the contents of variables to disk. The file must have been previously opened with File.Open, and you can read the value back later with File.ReadInt.</p>
<p>Example:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> number = <span class="dv">6</span><span class="op">;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/stats.dat&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteInt</span><span class="op">(</span>number<span class="op">);</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open the file stats.dat and write the integer number in it.</p>
<p><em>See also:</em> <a href="File.html#filereadint"><code>File.ReadInt</code></a>, <a href="File.html#filewritestring"><code>File.WriteString</code></a></p>
<hr />
</section>
<section id="filewriterawchar" class="level3">
<h3><a href="#filewriterawchar"><code>File.WriteRawChar</code></a></h3>
<p><em>(Formerly known as <code>FileWriteRawChar</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="bu">File</span><span class="op">.</span><span class="at">WriteRawChar</span><span class="op">(</span><span class="dt">int</span> value<span class="op">)</span></span></code></pre></div>
<p>Writes a single character to the specified file, in raw mode so that other applications can read it back. If you are just creating a file for your game to read back in, use File.WriteInt instead because it offers additional protection. Only use this function if you need other applications to be able to read the file in.</p>
<p>This command writes a single byte to the output file - therefore, VALUE can contain any value from 0 to 255.</p>
<p>Example:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/output.txt&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteRawChar</span><span class="op">(</span><span class="st">&#39;A&#39;</span><span class="op">);</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteRawChar</span><span class="op">(</span><span class="st">&#39;B&#39;</span><span class="op">);</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteRawChar</span><span class="op">(</span><span class="dv">13</span><span class="op">);</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will write the text "AB", followed by a carriage return character, to the file.</p>
<p><em>See also:</em> <a href="File.html#filereadrawchar"><code>File.ReadRawChar</code></a>, <a href="File.html#filewriteint"><code>File.WriteInt</code></a></p>
<hr />
</section>
<section id="filewriterawfloat" class="level3">
<h3><a href="#filewriterawfloat"><code>File.WriteRawFloat</code></a></h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="bu">File</span><span class="op">.</span><span class="at">WriteRawFloat</span><span class="op">(</span><span class="dt">float</span> value<span class="op">)</span></span></code></pre></div>
<p>Writes a raw 32-bit float to the file.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#filereadrawfloat"><code>File.ReadRawFloat</code></a>, <a href="File.html#filewriterawint"><code>File.WriteRawInt</code></a>, <a href="File.html#filewriterawchar"><code>File.WriteRawChar</code></a></p>
<hr />
</section>
<section id="filewriterawint" class="level3">
<h3><a href="#filewriterawint"><code>File.WriteRawInt</code></a></h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> <span class="bu">File</span><span class="op">.</span><span class="at">WriteRawInt</span><span class="op">(</span><span class="dt">int</span> value<span class="op">)</span></span></code></pre></div>
<p>Writes VALUE to the specified file, in raw mode so that other applications can read it back. If you are just creating a file for your game to read back in, use File.WriteInt instead because it offers additional protection. Only use this function if you need other applications to be able to read the file in.</p>
<p>This command writes a single integer to the output file - therefore, VALUE can contain any value from -2147483648 to 2147483647.</p>
<p>Example:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/stats.dat&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteRawInt</span><span class="op">(</span><span class="dv">51</span><span class="op">);</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open the file stats.dat and write the integer number in it.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#filereadrawint"><code>File.ReadRawInt</code></a>, <a href="File.html#filewriteint"><code>File.WriteInt</code></a></p>
<hr />
</section>
<section id="filewriterawline" class="level3">
<h3><a href="#filewriterawline"><code>File.WriteRawLine</code></a></h3>
<p><em>(Formerly known as <code>FileWriteRawLine</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">WriteRawLine</span><span class="op">(</span>string text<span class="op">)</span></span></code></pre></div>
<p>Writes a string of text to the file in plain text format. This enables you to read it back in Notepad or any text editor. This is useful for generating logs and such like.</p>
<p>The TEXT will be printed to the file, followed by the standard newline characters.</p>
<p>Example:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/error.log&quot;</span><span class="op">,</span> <span class="bu">eFileAppend</span><span class="op">);</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteRawLine</span><span class="op">(</span><span class="st">&quot;There was an error playing sound1.wav&quot;</span><span class="op">);</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will write an error line in the file error.log.</p>
<p><em>See also:</em> <a href="File.html#filereadrawlineback"><code>File.ReadRawLineBack</code></a>, <a href="File.html#filewritestring"><code>File.WriteString</code></a></p>
<hr />
</section>
<section id="filewritestring" class="level3">
<h3><a href="#filewritestring"><code>File.WriteString</code></a></h3>
<p><em>(Formerly known as <code>FileWrite</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span><span class="op">.</span><span class="at">WriteString</span><span class="op">(</span>string text<span class="op">)</span></span></code></pre></div>
<p>Writes TEXT to the file, which must have been previously opened with File.Open for writing. The string is written using a custom format to the file, which can only be read back by using File.ReadStringBack.</p>
<p>Example:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/temp.tmp&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>output <span class="op">==</span> null<span class="op">)</span> <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Error opening file.&quot;</span><span class="op">);</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> <span class="op">{</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    output<span class="op">.</span><span class="at">WriteString</span><span class="op">(</span><span class="st">&quot;test string&quot;</span><span class="op">);</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>will open the file temp.tmp for writing. If it cannot create the file, it will display an error message. Otherwise, it will write the string "test string" and close it.</p>
<p><em>See also:</em> <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a>, <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filewriterawline"><code>File.WriteRawLine</code></a></p>
<hr />
</section>
<section id="fileeof" class="level3">
<h3><a href="#fileeof"><code>File.EOF</code></a></h3>
<p><em>(Formerly known as <code>FileIsEOF</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">readonly</span> <span class="dt">bool</span> <span class="bu">File</span><span class="op">.</span><span class="at">EOF</span></span></code></pre></div>
<p>Checks whether the specified file has had all its data read. This is only useful with files opened for <strong>reading</strong>. It returns 1 if the entire contents of the file has now been read, or 0 if not.</p>
<p>Example:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/test.dat&quot;</span><span class="op">,</span> <span class="bu">eFileRead</span><span class="op">);</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="op">(!</span>output<span class="op">.</span><span class="at">EOF</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> temp = output<span class="op">.</span><span class="at">ReadRawChar</span><span class="op">();</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;%c&quot;</span><span class="op">,</span> temp<span class="op">);</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will display every character in the file test.dat, one by one, to the screen.</p>
<p><em>See also:</em> <a href="File.html#fileerror"><code>File.Error</code></a>, <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a></p>
<hr />
</section>
<section id="fileerror" class="level3">
<h3><a href="#fileerror"><code>File.Error</code></a></h3>
<p><em>(Formerly known as <code>FileIsError</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">readonly</span> <span class="dt">bool</span> <span class="bu">File</span><span class="op">.</span><span class="at">Error</span></span></code></pre></div>
<p>Checks whether an error has occurred reading from or writing to the specified file.</p>
<p>An error can occur if, for example, you run out of disk space or the user removes the disk that is being read from.</p>
<p>This function only checks for errors while actually reading/writing data. The File.Open function will return null if there was an error actually opening or creating the file.</p>
<p>To find out whether all data has been read from a file, use <a href="File.html#fileeof"><code>EOF</code></a> instead.</p>
<p>Example:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/test.dat&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">WriteInt</span><span class="op">(</span><span class="dv">51</span><span class="op">);</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>output<span class="op">.</span><span class="at">Error</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Error writing the data!&quot;</span><span class="op">);</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will write a number to the file 'test.dat', and display a message if there was a problem.</p>
<p><em>See also:</em> <a href="File.html#fileeof"><code>File.EOF</code></a>, <a href="File.html#filereadstringback"><code>File.ReadStringBack</code></a></p>
<hr />
</section>
<section id="filepath" class="level3">
<h3><a href="#filepath"><code>File.Path</code></a></h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">readonly</span> <span class="bu">String</span> <span class="bu">File</span><span class="op">.</span><span class="at">Path</span></span></code></pre></div>
<p>Gets the path to opened file.</p>
<p>Example:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/custom_save.txt&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span><span class="op">(</span>output<span class="op">)</span> <span class="op">{</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">System</span><span class="op">.</span><span class="at">Log</span><span class="op">(</span><span class="bu">eLogInfo</span><span class="op">,</span> <span class="st">&quot;Opened </span><span class="sc">\&quot;</span><span class="st">%s</span><span class="sc">\&quot;</span><span class="st"> for writing.&quot;</span><span class="op">,</span> output<span class="op">.</span><span class="at">Path</span><span class="op">);</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  output<span class="op">.</span><span class="at">WriteRawLine</span><span class="op">(</span><span class="st">&quot;won=false&quot;</span><span class="op">);</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Will write the full absolute path of the file in the debug log.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.1</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileopen"><code>File.Open</code></a>, <a href="File.html#fileresolvepath"><code>File.ResolvePath</code></a></p>
<hr />
</section>
<section id="fileposition" class="level3">
<h3><a href="#fileposition"><code>File.Position</code></a></h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">readonly</span> <span class="dt">int</span> <span class="bu">File</span><span class="op">.</span><span class="at">Position</span></span></code></pre></div>
<p>Gets current File's reading or writing position. This value means number of bytes between file's beginning and current place you are reading from or writing to.</p>
<p>This may be useful, for example, if you are passing the file pointer to another script module function and want to know how much data that function has read or written.</p>
<p>Example:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="bu">File</span> <span class="op">*</span>output = <span class="bu">File</span><span class="op">.</span><span class="at">Open</span><span class="op">(</span><span class="st">&quot;$SAVEGAMEDIR$/test.dat&quot;</span><span class="op">,</span> <span class="bu">eFileWrite</span><span class="op">);</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> old_pos = output<span class="op">.</span><span class="at">Position</span><span class="op">;</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>WriteCustomModuleData<span class="op">(</span>output<span class="op">);</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> new_pos = output<span class="op">.</span><span class="at">Position</span><span class="op">;</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Display</span><span class="op">(</span><span class="st">&quot;Custom module has written %d bytes&quot;</span><span class="op">,</span> new_pos <span class="op">-</span> old_pos<span class="op">);</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>output<span class="op">.</span><span class="at">Close</span><span class="op">();</span></span></code></pre></div>
<p>will open file, pass the file pointer to some custom function, then display amount of data that function wrote.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.4.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="File.html#fileseek"><code>File.Seek</code></a></p>
</section>
</section>
      <a class="edit-link" href="https://github.com/adventuregamestudio/ags-manual-source/blob/master/File.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit this page</a>
      </main>
      <footer>
        <p>
          <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
          Build: ed75ea05a92de6b9ff5582c5376524816e60c494
        </p>
      </footer>
    </article>
    
    <aside>
<ul>
<li><a href="#file-functions-and-properties" id="toc-file-functions-and-properties"><code>File</code> functions and properties</a>
<ul>
<li><a href="#filecopy" id="toc-filecopy"><code>File.Copy</code></a></li>
<li><a href="#filegetfiletime" id="toc-filegetfiletime"><code>File.GetFileTime</code></a></li>
<li><a href="#fileopen" id="toc-fileopen"><code>File.Open</code></a></li>
<li><a href="#filerename" id="toc-filerename"><code>File.Rename</code></a></li>
<li><a href="#fileresolvepath" id="toc-fileresolvepath"><code>File.ResolvePath</code></a></li>
<li><a href="#fileclose" id="toc-fileclose"><code>File.Close</code></a></li>
<li><a href="#filedelete" id="toc-filedelete"><code>File.Delete</code></a></li>
<li><a href="#fileexists" id="toc-fileexists"><code>File.Exists</code></a></li>
<li><a href="#filegetfiles" id="toc-filegetfiles"><code>File.GetFiles</code></a></li>
<li><a href="#filereadrawbytes" id="toc-filereadrawbytes"><code>File.ReadRawBytes</code></a></li>
<li><a href="#filereadint" id="toc-filereadint"><code>File.ReadInt</code></a></li>
<li><a href="#filereadrawchar" id="toc-filereadrawchar"><code>File.ReadRawChar</code></a></li>
<li><a href="#filereadrawfloat" id="toc-filereadrawfloat"><code>File.ReadRawFloat</code></a></li>
<li><a href="#filereadrawint" id="toc-filereadrawint"><code>File.ReadRawInt</code></a></li>
<li><a href="#filereadrawlineback" id="toc-filereadrawlineback"><code>File.ReadRawLineBack</code></a></li>
<li><a href="#filereadstringback" id="toc-filereadstringback"><code>File.ReadStringBack</code></a></li>
<li><a href="#fileseek" id="toc-fileseek"><code>File.Seek</code></a></li>
<li><a href="#filewriterawbytes" id="toc-filewriterawbytes"><code>File.WriteRawBytes</code></a></li>
<li><a href="#filewriteint" id="toc-filewriteint"><code>File.WriteInt</code></a></li>
<li><a href="#filewriterawchar" id="toc-filewriterawchar"><code>File.WriteRawChar</code></a></li>
<li><a href="#filewriterawfloat" id="toc-filewriterawfloat"><code>File.WriteRawFloat</code></a></li>
<li><a href="#filewriterawint" id="toc-filewriterawint"><code>File.WriteRawInt</code></a></li>
<li><a href="#filewriterawline" id="toc-filewriterawline"><code>File.WriteRawLine</code></a></li>
<li><a href="#filewritestring" id="toc-filewritestring"><code>File.WriteString</code></a></li>
<li><a href="#fileeof" id="toc-fileeof"><code>File.EOF</code></a></li>
<li><a href="#fileerror" id="toc-fileerror"><code>File.Error</code></a></li>
<li><a href="#filepath" id="toc-filepath"><code>File.Path</code></a></li>
<li><a href="#fileposition" id="toc-fileposition"><code>File.Position</code></a></li>
</ul></li>
</ul>
    </aside>
  </div>




  </div>
  <script src="js/navigation.js"></script>
  <script src="js/search.js"></script>
  
</body>
</html>
