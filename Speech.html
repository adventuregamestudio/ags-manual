<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Speech functions and properties</title>
  <link rel="stylesheet" href="css/normalize.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link href="static/favicon.ico" rel="icon" type="image/x-icon" />
</head>
<body>


  <div class="header-bg"></div>
  <div class="container">
    <header>
      <h1>
        <a href="index.html">
          <img src="static/logo.svg" id="cup" width="48" height="48">
          AGS Manual
        </a>
      </h1>
      <label class="header_input search-box">
        <input type="search" id="search_input" placeholder="Search">
        <label class="toggle-icon" title="Match Case">
          <input type="checkbox" id="citoggle" onclick="citoggle_clicked()">
          <span>Aa</span>
        </label>
        <label class="toggle-icon" title="Match Whole Word">
          <input type="checkbox" id="wwtoggle" onclick="wwtoggle_clicked()" checked="checked">
          <span><u>ab</u></span>
        </label>
      </label>

      <label class="toggle-icon" title="Highlight">
        <input type="checkbox" id="hltoggle" onclick="hltoggle_clicked()" checked="checked">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="24px" height="24px" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32" class="iconify iconify--carbon"><path fill="currentColor" d="M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"></path><path fill="currentColor" d="M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"></path></svg>
      </label>
      
      <label class="toggle-icon" title="Toggle dark mode">
        <input type="checkbox" checked="checked"  id="dark_mode_toggle">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26a5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" /></svg>
      </label>
      
      <label class="mobile-menu">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 32 32" width="24px" fill="currentColor"><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z" /></svg>
      </label>

      <script src="js/darkmode.js"></script>
      <script src="js/mark.min.js"></script>

      <ul id="search_results"></ul>
    </header>

  <nav>
    <ul>
      <li><a href="genindex.html">Index</a></li>
    </ul>
  </nav>

  <div class="content">
    <article>
      <main>
<section id="speech-functions-and-properties" class="level2">
<h2><a href="#speech-functions-and-properties"><code>Speech</code> functions and properties</a></h2>
<section id="speechanimationstoptimemargin" class="level3">
<h3><a href="#speechanimationstoptimemargin"><code>Speech.AnimationStopTimeMargin</code></a></h3>
<p><em>(Formerly known as <code>game.close_mouth_end_speech_time</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">int</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">AnimationStopTimeMargin</span></span></code></pre></div>
<p>Gets/sets the time margin at which the character talking animation should stop before before speech time ends. This property is specified in <strong>game loops</strong> and is set to 10 by default.</p>
<p><strong>NOTE:</strong> This property only affects the animation if voice mode is disabled.</p>
<p>Example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Speech</span><span class="op">.</span><span class="at">AnimationStopTimeMargin</span> = <span class="dv">40</span><span class="op">;</span></span></code></pre></div>
<p>will stop talking animation 40 game loops (1 second with the default game speed) before speech time ends.</p>
<p><em>See also:</em> <a href="Speech.html#speechdisplayposttimems"><code>Speech.DisplayPostTimeMs</code></a></p>
<hr />
</section>
<section id="speechcustomportraitplacement" class="level3">
<h3><a href="#speechcustomportraitplacement"><code>Speech.CustomPortraitPlacement</code></a></h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">bool</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">CustomPortraitPlacement</span></span></code></pre></div>
<p>Enables/disables the custom speech portrait placement. When set to <strong>true</strong> the character portraits are positioned at screen coordinates defined by <a href="Speech.html#speechportraitxoffset"><code>Speech.PortraitXOffset</code></a> and <a href="Speech.html#speechportraity"><code>Speech.PortraitY</code></a>. When set to <strong>false</strong> the portraits will be automatically aligned again.</p>
<p><strong>NOTE:</strong> This property has no effect if the Lucas-Arts speech style is used.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.3.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Speech.html#speechportraitxoffset"><code>Speech.PortraitXOffset</code></a>, <a href="Speech.html#speechportraity"><code>Speech.PortraitY</code></a></p>
<hr />
</section>
<section id="speechdisplayposttimems" class="level3">
<h3><a href="#speechdisplayposttimems"><code>Speech.DisplayPostTimeMs</code></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">int</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">DisplayPostTimeMs</span></span></code></pre></div>
<p>Gets/sets the extra time the speech will stay on screen after its base time runs out. Commonly the time the speech lines and portrait stay on screen is calculated based on the text length - if the text mode is on, or voice clip length - if the voice mode is on. This property prolongs the time the speech text and/or portrait is displayed. This property does not interfere with speech skipping by key or mouse click: players will still be able to skip speech any time they want (if appropriate skip mode is enabled). This property is specified in <strong>milliseconds</strong> and is set to zero by default.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.3.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Speech.html#speechanimationstoptimemargin"><code>Speech.AnimationStopTimeMargin</code></a></p>
<hr />
</section>
<section id="speechglobalspeechanimationdelay" class="level3">
<h3><a href="#speechglobalspeechanimationdelay"><code>Speech.GlobalSpeechAnimationDelay</code></a></h3>
<p><em>(Formerly known as <code>game.talkanim_speed</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">int</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">GlobalSpeechAnimationDelay</span></span></code></pre></div>
<p>Gets/sets global speech animation delay which affects every character in game. This property is specified in <strong>game loops</strong> and is set to 5 by default.</p>
<p><strong>NOTE:</strong> This property is ignored if lip sync is enabled.</p>
<p><strong>NOTE:</strong> The property is only used when the <strong>Speech.UseGlobalSpeechAnimationDelay</strong> is set to <strong>true</strong>. This property <strong>cannot</strong> be used if the global speech animation delay is disabled. In that case, the individual character's animation delay is used instead.</p>
<p><em>See also:</em> <a href="Character.html#characterspeechanimationdelay"><code>Character.SpeechAnimationDelay</code></a>, <a href="Speech.html#speechuseglobalspeechanimationdelay"><code>Speech.UseGlobalSpeechAnimationDelay</code></a></p>
<hr />
</section>
<section id="speechportraitoverlay" class="level3">
<h3><a href="#speechportraitoverlay"><code>Speech.PortraitOverlay</code></a></h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">Overlay</span><span class="op">*</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span></span></code></pre></div>
<p>Retrieves the portrait overlay of a current blocking speech. It's currently only available in eihter a <code>repeatedly_execute_always</code> or <code>late_repeatedly_execute_always</code>. It will return null if no portrait overlay is currently being shown.</p>
<p>Example:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#define PORTRAIT_YMIN 5</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define PORTRAIT_YMAX 30</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> plast = <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> pmove = <span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">repeatedly_execute_always</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span><span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span> <span class="op">!=</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>plast <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">)</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span><span class="op">.</span><span class="at">Y</span> = plast<span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span><span class="op">.</span><span class="at">Y</span> <span class="op">+</span>= pmove<span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span><span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span><span class="op">.</span><span class="at">Y</span> <span class="op">&lt;</span> PORTRAIT_YMIN<span class="op">)</span> pmove = <span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span><span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span><span class="op">.</span><span class="at">Y</span> <span class="op">&gt;</span> PORTRAIT_YMAX<span class="op">)</span> pmove = <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        plast = <span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitOverlay</span><span class="op">.</span><span class="at">Y</span><span class="op">;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Waves a speech portrait up and down</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Speech.html#speechtextoverlay"><code>Speech.TextOverlay</code></a></p>
<hr />
</section>
<section id="speechportraitxoffset" class="level3">
<h3><a href="#speechportraitxoffset"><code>Speech.PortraitXOffset</code></a></h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">int</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitXOffset</span></span></code></pre></div>
<p>Gets/sets the character's speech portrait <strong>horizontal</strong> offset relative to screen side. The actual x coordinate of the portrait is calculated based on whether portrait is to be displayed at the left or right side of the screen. This property specifies the distance between the screen side and respected portrait's border.</p>
<p><strong>NOTE:</strong> The property is only used when the <strong>Speech.CustomPortraitPlacement</strong> is set to <strong>true</strong>.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.3.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Speech.html#speechcustomportraitplacement"><code>Speech.CustomPortraitPlacement</code></a>, <a href="Speech.html#speechportraity"><code>Speech.PortraitY</code></a></p>
<hr />
</section>
<section id="speechportraity" class="level3">
<h3><a href="#speechportraity"><code>Speech.PortraitY</code></a></h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">int</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">PortraitY</span></span></code></pre></div>
<p>Gets/sets the character's speech portrait <strong>y</strong> coordinate on screen.</p>
<p><strong>NOTE:</strong> The property is only used when the <strong>Speech.CustomPortraitPlacement</strong> is set to <strong>true</strong>.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.3.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Speech.html#speechcustomportraitplacement"><code>Speech.CustomPortraitPlacement</code></a>, <a href="Speech.html#speechportraitxoffset"><code>Speech.PortraitXOffset</code></a></p>
<hr />
</section>
<section id="speechskipkey" class="level3">
<h3><a href="#speechskipkey"><code>Speech.SkipKey</code></a></h3>
<p><em>(Formerly known as <code>game.skip_speech_specific_key</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">eKeyCode</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">SkipKey</span></span></code></pre></div>
<p>Gets/sets special key which can skip speech text. This makes all other keys ignored when speech is displayed on screen, unless eKeyNone is assigned, in which case any key can be used again.</p>
<p><strong>NOTE:</strong> The specified key will only skip speech if the appropriate speech skip style is enabled.</p>
<p>Example:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Speech</span><span class="op">.</span><span class="at">SkipKey</span> = <span class="bu">eKeySpace</span><span class="op">;</span></span></code></pre></div>
<p>will assign the "space" key to skip the speech.</p>
<p><em>See also:</em> <a href="Speech.html#speechskipstyle"><code>Speech.SkipStyle</code></a></p>
<hr />
</section>
<section id="speechskipstyle" class="level3">
<h3><a href="#speechskipstyle"><code>Speech.SkipStyle</code></a></h3>
<p><em>(Formerly known as <code>SetSkipSpeech</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">SkipSpeechStyle</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">SkipStyle</span></span></code></pre></div>
<p>Gets/sets how the player can skip speech lines.</p>
<p>The accepted values are</p>
<pre><code>eSkipKeyMouseTime  player can skip text by clicking mouse or pressing key
eSkipKeyTime       player can skip text by pressing key only, not by clicking mouse
eSkipTime          player cannot skip text with mouse or keyboard
eSkipKeyMouse      text does not time-out; player must click mouse or press key each time
eSkipMouseTime     player can skip text by clicking mouse only, not by pressing key
eSkipKey           text does not time-out; player can skip text by pressing key only
eSkipMouse         text does not time-out; player can skip text by clicking mouse only</code></pre>
<p>Example:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Speech</span><span class="op">.</span><span class="at">SkipStyle</span> = <span class="bu">eSkipTime</span><span class="op">;</span></span></code></pre></div>
<p>will make the player unable to skip the text by pressing a mouse button or a key.</p>
<p><em>See also:</em> <a href="Game.html#gameignoreuserinputaftertexttimeoutms"><code>Game.IgnoreUserInputAfterTextTimeoutMs</code></a>, <a href="Game.html#gametextreadingspeed"><code>Game.TextReadingSpeed</code></a>, <a href="Speech.html#speechskipkey"><code>Speech.SkipKey</code></a></p>
<hr />
</section>
<section id="speechspeakingcharacter" class="level3">
<h3><a href="#speechspeakingcharacter"><code>Speech.SpeakingCharacter</code></a></h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="kw">readonly</span> <span class="kw">attribute</span> <span class="bu">Character</span><span class="op">*</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">SpeakingCharacter</span></span></code></pre></div>
<p>Gets the currently speaking Character (only works for blocking speech). It returns null if no character is speaking in a blocking speech.</p>
<p>Differently from checking any character speaking using <code>Speech.TextOverlay</code>, this also works for a blocking voice only speech, and it tells which character is speaking.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.2</strong> and later versions.</p>
<p><em>See also:</em> <a href="Dialog.html#dialogcurrentdialog"><code>Dialog.CurrentDialog</code></a>, <a href="Speech.html#speechtextoverlay"><code>Speech.TextOverlay</code></a>, <a href="Character.html#characterspeaking"><code>Character.Speaking</code></a></p>
<hr />
</section>
<section id="speechstyle" class="level3">
<h3><a href="#speechstyle"><code>Speech.Style</code></a></h3>
<p><em>(Formerly known as <code>SetSpeechStyle</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">eSpeechStyle</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">Style</span></span></code></pre></div>
<p>Gets/sets the way in which speech text is displayed. This modifies the setting originally set in the editor. SpeechStyle can be:</p>
<pre><code>eSpeechLucasarts
  speech text over character&#39;s head
eSpeechSierra
  close-up portrait of character
eSpeechSierraWithBackground
  close-up portrait + background window for text
eSpeechFullScreen
  QFG4-style full screen dialog pictures</code></pre>
<p>Example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Speech</span><span class="op">.</span><span class="at">Style</span> = <span class="bu">eSpeechSierra</span><span class="op">;</span></span></code></pre></div>
<p>will change the speech style to a close up portrait of the character.</p>
<hr />
</section>
<section id="speechtextalignment" class="level3">
<h3><a href="#speechtextalignment"><code>Speech.TextAlignment</code></a></h3>
<p><em>(Formerly known as <code>game.speech_text_align</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">Alignment</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">TextAlignment</span></span></code></pre></div>
<p>Sets how text in LucasArts-style speech is aligned.</p>
<p>The accepted values are</p>
<pre><code>eAlignLeft
eAlignCentre
eAlignRight</code></pre>
<p>The default is eAlignCentre.</p>
<p>Example:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Speech</span><span class="op">.</span><span class="at">TextAlignment</span> = <span class="bu">eAlignRight</span><span class="op">;</span></span></code></pre></div>
<p>will align the speech text at the right side.</p>
<hr />
</section>
<section id="speechtextoverlay" class="level3">
<h3><a href="#speechtextoverlay"><code>Speech.TextOverlay</code></a></h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="bu">Overlay</span><span class="op">*</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">TextOverlay</span></span></code></pre></div>
<p>Retrieves the text overlay of a current blocking speech. It's currently only available in eihter a <code>repeatedly_execute_always</code> or <code>late_repeatedly_execute_always</code>. It will return null if no text overlay is currently being shown.</p>
<p>It allows to detect appearance, removal, and change of the blocking speech. Additionally, calling Speech.TextOverlay.Remove() will work as a speech interrupt.</p>
<p>Example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Overlay</span><span class="op">*</span> lastSpeech<span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">late_repeatedly_execute_always</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Overlay</span><span class="op">*</span> curSpeech = <span class="bu">Speech</span><span class="op">.</span><span class="at">TextOverlay</span><span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lastSpeech <span class="op">==</span> null <span class="op">&amp;&amp;</span> curSpeech <span class="op">!=</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// speech has started</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>lastSpeech <span class="op">!=</span> null <span class="op">&amp;&amp;</span> curSpeech <span class="op">==</span> null<span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// speech is over</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>lastSpeech <span class="op">!=</span> null <span class="op">&amp;&amp;</span> curSpeech <span class="op">!=</span> lastSpeech<span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// speech changed to the next line</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    lastSpeech = curSpeech<span class="op">;</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Detects when the blocking speech has begun, changed to the next line or is over.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.6.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Speech.html#speechportraitoverlay"><code>Speech.PortraitOverlay</code></a></p>
<hr />
</section>
<section id="speechuseglobalspeechanimationdelay" class="level3">
<h3><a href="#speechuseglobalspeechanimationdelay"><code>Speech.UseGlobalSpeechAnimationDelay</code></a></h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">bool</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">UseGlobalSpeechAnimationDelay</span></span></code></pre></div>
<p>Gets/sets whether speech animation delay should use global setting, as opposed to individual character's setting. The actual global delay value is specified with <strong>Speech.GlobalSpeechAnimationDelay</strong>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Speech</span><span class="op">.</span><span class="at">UseGlobalSpeechAnimationDelay</span> = <span class="bu">true</span><span class="op">;</span></span></code></pre></div>
<p>will make the game use global speech animation delay.</p>
<p><em>Compatibility:</em> Supported by <strong>AGS 3.3.0</strong> and later versions.</p>
<p><em>See also:</em> <a href="Character.html#characterspeechanimationdelay"><code>Character.SpeechAnimationDelay</code></a>, <a href="Speech.html#speechglobalspeechanimationdelay"><code>Speech.GlobalSpeechAnimationDelay</code></a></p>
<hr />
</section>
<section id="speechvoicemode" class="level3">
<h3><a href="#speechvoicemode"><code>Speech.VoiceMode</code></a></h3>
<p><em>(Formerly known as <code>SetVoiceMode</code>, which is now obsolete)</em></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="dt">eVoiceMode</span> <span class="bu">Speech</span><span class="op">.</span><span class="at">VoiceMode</span></span></code></pre></div>
<p>Gets/sets whether voice and/or text captions are used in the game.</p>
<p>Valid values for VoiceMode are:</p>
<pre><code>eSpeechTextOnly      no voice, text only
eSpeechVoiceAndText  both voice and text
eSpeechVoiceOnly     voice only, no text</code></pre>
<p>The default is <em>eSpeechVoiceAndText</em> if in-game speech is enabled, and <em>eSpeechTextOnly</em> if it is not. Changing this setting changes the behavior of all <a href="Character.html#charactersay"><code>Say</code></a> and <a href="Globalfunctions_Message.html#display"><code>Display</code></a> commands which have a speech file assigned to them.</p>
<p><strong>WARNING:</strong> you should only ever use <em>eSpeechVoiceOnly</em> at the player's request to do so, because there is no guarantee that they even have a sound card and so may not understand what is going on.</p>
<p>Example:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode ags"><code class="sourceCode ags"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span><span class="bu">IsSpeechVoxAvailable</span><span class="op">()==</span><span class="dv">1</span><span class="op">)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Speech</span><span class="op">.</span><span class="at">VoiceMode</span> = <span class="bu">eSpeechVoiceAndText</span><span class="op">;</span></span></code></pre></div>
<p>will set the voice mode to voice and text if the voice pack is available.</p>
</section>
</section>
      <a class="edit-link" href="https://github.com/adventuregamestudio/ags-manual-source/blob/master/Speech.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit this page</a>
      </main>
      <footer>
        <p>
          <a href="jslicensing.html" data-jslicense="1">Third-party JavaScript licensing</a><br>
          Build: ed75ea05a92de6b9ff5582c5376524816e60c494
        </p>
      </footer>
    </article>
    
    <aside>
<ul>
<li><a href="#speech-functions-and-properties" id="toc-speech-functions-and-properties"><code>Speech</code> functions and properties</a>
<ul>
<li><a href="#speechanimationstoptimemargin" id="toc-speechanimationstoptimemargin"><code>Speech.AnimationStopTimeMargin</code></a></li>
<li><a href="#speechcustomportraitplacement" id="toc-speechcustomportraitplacement"><code>Speech.CustomPortraitPlacement</code></a></li>
<li><a href="#speechdisplayposttimems" id="toc-speechdisplayposttimems"><code>Speech.DisplayPostTimeMs</code></a></li>
<li><a href="#speechglobalspeechanimationdelay" id="toc-speechglobalspeechanimationdelay"><code>Speech.GlobalSpeechAnimationDelay</code></a></li>
<li><a href="#speechportraitoverlay" id="toc-speechportraitoverlay"><code>Speech.PortraitOverlay</code></a></li>
<li><a href="#speechportraitxoffset" id="toc-speechportraitxoffset"><code>Speech.PortraitXOffset</code></a></li>
<li><a href="#speechportraity" id="toc-speechportraity"><code>Speech.PortraitY</code></a></li>
<li><a href="#speechskipkey" id="toc-speechskipkey"><code>Speech.SkipKey</code></a></li>
<li><a href="#speechskipstyle" id="toc-speechskipstyle"><code>Speech.SkipStyle</code></a></li>
<li><a href="#speechspeakingcharacter" id="toc-speechspeakingcharacter"><code>Speech.SpeakingCharacter</code></a></li>
<li><a href="#speechstyle" id="toc-speechstyle"><code>Speech.Style</code></a></li>
<li><a href="#speechtextalignment" id="toc-speechtextalignment"><code>Speech.TextAlignment</code></a></li>
<li><a href="#speechtextoverlay" id="toc-speechtextoverlay"><code>Speech.TextOverlay</code></a></li>
<li><a href="#speechuseglobalspeechanimationdelay" id="toc-speechuseglobalspeechanimationdelay"><code>Speech.UseGlobalSpeechAnimationDelay</code></a></li>
<li><a href="#speechvoicemode" id="toc-speechvoicemode"><code>Speech.VoiceMode</code></a></li>
</ul></li>
</ul>
    </aside>
  </div>




  </div>
  <script src="js/navigation.js"></script>
  <script src="js/search.js"></script>
  
</body>
</html>
